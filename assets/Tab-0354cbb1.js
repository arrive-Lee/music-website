import{d as N,g as p,f as $,s as F,o as b,c as P,w as m,y as f,b as c,X as q,A as T,U as k,V as I,H as s,a as S,ae as V,ag as H,u as A,D as O,m as D,n as L,ah as U,ai as j,aj as z,M as R,ak as X,al as G,_ as J}from"./index-424b24d2.js";const K=["textContent"],Q={class:"operation"},W=["onClick"],Y=c("span",{class:"iconfont"},"󰌄",-1),Z=c("span",{class:"iconfont"},"",-1),ae=N({__name:"SongList",props:{songs:null,height:null,isPlaylist:{type:Boolean,default:!1}},setup(d){const r=d;A(e=>({"4e5dfd30":s(y),"4dd0c97e":s(v),"40ae0060":s(g)}));const y=p().get("fontColor"),g=p().get("background"),v=p().get("tableHover"),h=$(),{songList:l,current:o,isPlay:n,playProcess:x,playTime:B}=F(h),C=async e=>{if(e.available=="0"||e.available=="8"){const t=l.value.findIndex(a=>a.id==e.id);t==-1?o.value==0?(n&&(n.value=!1),x.value=0,B.value=0,l.value.unshift(e),await O(),n.value=!0):(l.value.unshift(e),o.value=0):o.value!=t?o.value=t:n.value=!0}else(e.available="1")?D(L.INFO,"此歌曲为vip专属"):(e.available="10")&&D(L.INFO,"此歌曲尚未拥有版权，请切换其它歌曲")},E=e=>{const t=r.songs.findIndex(u=>u.id==e.id),a=document.querySelectorAll(".operation");r.isPlaylist?a[t+1].style.display="block":a[t].style.display="block"},M=e=>{const t=r.songs.findIndex(u=>u.id==e.id),a=document.querySelectorAll(".operation");r.isPlaylist?a[t+1].style.display="none":a[t].style.display="none"};return(e,t)=>{const a=U,u=j,w=z("prevent");return b(),P(u,{data:d.songs,onCellDblclick:C,onCellMouseEnter:E,onCellMouseLeave:M,"max-height":d.height,style:{width:"80vw"},class:"songs-table"},{default:m(()=>[f(a,{label:"歌曲",width:"500"},{default:m(i=>[c("div",null,[c("span",{class:q(["iconfont love",{"is-love":i.row.isLove}]),textContent:T(i.row.isLove?"󰅅":"")},null,10,K),c("span",null,T(i.row.name),1),c("div",Q,[k((b(),S("span",{onClick:_=>C(i.row),class:"iconfont"},[V("")],8,W)),[[I,!s(n)||s(o)!=s(l).findIndex(_=>_.id==i.row.id)],[w]]),k((b(),S("span",{onClick:t[0]||(t[0]=_=>n.value=!1),class:"iconfont"},[V(" ")])),[[I,s(n)&&s(o)==s(l).findIndex(_=>_.id==i.row.id)],[w]]),Y,Z])])]),_:1}),f(a,{prop:"singer",label:"歌手",width:"320"}),f(a,{prop:"album",label:"专辑",width:"320"}),f(a,{label:"时长"},{default:m(i=>[c("span",null,T(s(H)(i.row.time)),1)]),_:1})]),_:1},8,["data","max-height"])}}});const ee=N({__name:"Tab",props:{active:null},emits:["getActive"],setup(d,{emit:r}){const y=d;A(l=>({"377914ab":s(g)}));const g=p().get("fontColor"),v=R(y.active),h=l=>{r("getActive",l.paneName)};return(l,o)=>{const n=X;return b(),P(n,{modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=x=>v.value=x),onTabClick:h,class:"tab"},{default:m(()=>[G(l.$slots,"content",{},void 0,!0)]),_:3},8,["modelValue"])}}});const se=J(ee,[["__scopeId","data-v-4312e76f"]]);export{se as T,ae as _};
