import{d as U,g as f,M as p,h as o,x as j,m as w,n as x,U as E,a as b,b as h,F as q,r as A,y as H,H as n,V as O,z as P,W,o as S,X,A as Y,Y as Z,B as $,C as G,u as J,Z as K,_ as Q}from"./index-424b24d2.js";import"./el-infinite-scroll-4ed993c7.js";import{M as ee}from"./Mv-336267c4.js";const B=u=>($("data-v-4af6ac3a"),u=u(),G(),u),ae=["infinite-scroll-disabled"],se=B(()=>h("h4",{class:"title"},"视频分类",-1)),te={class:"type"},le=["onClick"],oe=B(()=>h("h4",{class:"title all"},"全部mv",-1)),ne=["element-loading-background","element-loading-spinner"],ie=U({__name:"VideoView",setup(u){J(e=>({"204a9fa0":n(M),35467782:n(L),"6b112888":n(I)}));const M=f().get("fontColor"),I=f().get("boxShadow"),L=f().get("fontBlack"),N=f().get("background"),a=p(0),s=p(40),i=p(!1),c=o([]),k=o(["全部","韩国","日本","欧美","港台","内地"]),m=o([1e3,1e3,1e3,1e3,1e3,1e3]),l=p(!1);let t=o([]);const y=P("firstLoading");y.value=!0;const R=e=>{a.value=e,s.value=40,t=o([]),t.push(...c[a.value].slice(0,s.value)),i.value=!1},T=()=>{s.value<m[a.value]?(l.value=!0,i.value=!0,setTimeout(()=>{s.value+=10,t.push(...c[a.value].slice(t.length,s.value)),l.value=!1,i.value=!1},2500)):(l.value=!0,i.value=!0,setTimeout(()=>{l.value=!1,s.value=m[a.value],t.push(...c[a.value].slice(t.length,s.value)),w(x.SUCCESS,"已经到底啦！")},2500))},C=[];return k.forEach((e,r)=>{C.push(j(m[r],e))}),Promise.all(C).then(e=>{e.forEach(r=>{const v=o([]),{data:g}=r;g.forEach(d=>{const{id:_,name:V,cover:D,playCount:z,artistName:F}=d;v.push({id:_,name:V,image:D,playCount:z,artist:F})}),c.push(v)}),t.push(...c[a.value].slice(0,s.value)),y.value=!1}).catch(e=>{w(x.ERROR,e.message)}),(e,r)=>{const v=W,g=K;return E((S(),b("div",{class:"rvideo-container scroll-container","infinite-scroll-distance":"2","infinite-scroll-immediate":!1,"infinite-scroll-disabled":i.value,style:{overflow:"auto"}},[se,h("div",te,[(S(!0),b(q,null,A(k,(d,_)=>(S(),b("button",{onClick:V=>R(_),key:d,class:X({"is-active":_==a.value})},Y(d),11,le))),128))]),oe,H(ee,{mvs:n(t)},null,8,["mvs"]),E(h("div",{"element-loading-background":n(N),"element-loading-text":"加载中，请勿继续滚动！","element-loading-spinner":n(Z),class:"tip"},null,8,ne),[[O,l.value],[v,l.value]])],8,ae)),[[g,T]])}}});const ve=Q(ie,[["__scopeId","data-v-4af6ac3a"]]);export{ve as default};
