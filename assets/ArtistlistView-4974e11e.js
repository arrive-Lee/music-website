import{d as N,g,h as c,M as f,a2 as h,m as y,n as C,U as V,a as m,b as r,F as U,r as z,y as F,H as n,V as j,z as H,W as O,o as b,X as P,A as W,Y as X,B as Y,C as Z,u as $,Z as q,_ as G}from"./index-424b24d2.js";import"./el-infinite-scroll-4ed993c7.js";import{S as J}from"./Singer-158403b5.js";const x=u=>(Y("data-v-f91b2552"),u=u(),Z(),u),K=["infinite-scroll-disabled"],Q=x(()=>r("h4",{class:"title"},"歌手地区",-1)),ee={class:"type"},se=["onClick"],te=x(()=>r("h4",{class:"title"},"歌手榜",-1)),ae={class:"ranks"},le=["element-loading-background","element-loading-spinner"],ie=N({__name:"ArtistlistView",setup(u){$(l=>({"3c0e852e":n(B),"581247d4":n(E),"497939d1":n(L)}));const B=g().get("fontColor"),E=g().get("fontBlack"),L=g().get("shadow"),A=g().get("background"),a=c([]);let e=c([]);const I=c(["内地","欧美","韩国","日本"]),s=f(0),t=f(18),o=f(!1),i=f(!1),S=H("firstLoading");S.value=!0;const R=()=>{t.value<a[s.value].length?(i.value=!0,o.value=!0,setTimeout(()=>{t.value+=6,e.push(...a[s.value].slice(e.length,t.value)),i.value=!1,o.value=!1},1e3)):(i.value=!0,o.value=!0,setTimeout(()=>{i.value=!1,t.value=a[s.value].length,e.push(...a[s.value].slice(e.length,t.value)),y(C.SUCCESS,"已经到底啦！")},1e3))},T=l=>{s.value=l,t.value=18,e=c([]),e.push(...a[s.value].slice(0,t.value)),o.value=!1};return Promise.all([h(1),h(2),h(3),h(4)]).then(l=>{l.forEach(k=>{const{list:{artists:p}}=k,d=c([]);p.forEach(v=>{const{name:_,id:w,picUrl:D,score:M}=v;d.push({name:_,id:w,avatar:D,score:M})}),a.push(d)}),e.push(...a[s.value].slice(0,t.value)),S.value=!1}).catch(l=>{y(C.ERROR,l.message)}),(l,k)=>{const p=O,d=q;return V((b(),m("div",{"infinite-scroll-distance":"2","infinite-scroll-immediate":!1,"infinite-scroll-disabled":o.value,class:"artistlist-container scroll-container",style:{overflow:"auto"}},[Q,r("div",ee,[(b(!0),m(U,null,z(I,(v,_)=>(b(),m("button",{onClick:w=>T(_),key:v,class:P({"is-active":_==s.value})},W(v),11,se))),128))]),te,r("div",ae,[F(J,{"singer-list":n(e)},null,8,["singer-list"]),V(r("div",{"element-loading-background":n(A),"element-loading-text":"加载中，请勿继续滚动！","element-loading-spinner":n(X),class:"tip"},null,8,le),[[j,i.value],[p,i.value]])])],8,K)),[[d,R]])}}});const re=G(ie,[["__scopeId","data-v-f91b2552"]]);export{re as default};
