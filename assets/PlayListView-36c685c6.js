import{d as R,g as _,h as f,I as S,m as v,n as b,J as E,t as U,v as V,a as d,b as t,A as i,y as e,F as I,r as M,w as m,K as T,z as L,G as D,o as g,u as N,L as A,H as p,_ as $}from"./index-424b24d2.js";import{T as j,_ as F}from"./Tab-0354cbb1.js";import{P as G}from"./PlayButton-b1b8e6d4.js";import{D as O}from"./DecoratedButton-379cc501.js";import{N as q}from"./NoSearch-415ddfe3.js";const z={class:"playlist-container scroll-container"},H={class:"header"},J=["src"],K={class:"right"},Q={class:"title"},W={class:"creator"},X={class:"creator-name"},Y={class:"tag"},Z={class:"description"},ss={class:"operation"},as=R({__name:"PlayListView",setup(ts){N(a=>({"30bcd16a":p(k),"36d64118":p(P),"397e52b3":p(C)}));const k=_().get("fontColor"),P=_().get("fontBlack"),C=_().get("shadow"),u=T().query.id,s=f({id:u+"",name:"",image:"",playCount:"",tag:[],description:"",creator:{nickname:"",avatarUrl:""}}),c=f([]),h=L("firstLoading");h.value=!0;const w=L("hideScroll"),x=()=>{w()};return S(s.id).then(a=>{const{playlist:{name:l,coverImgUrl:o,description:n,tags:r,creator:y,playCount:B}}=a;s.name=l,s.image=o,s.description=n,s.tag=r,s.creator.avatarUrl=y.avatarUrl,s.creator.nickname=y.nickname,s.playCount=B}).catch(a=>{v(b.ERROR,a.message)}),E(u+"").then(a=>{const{songs:l}=a,o=[];l.forEach(n=>{U(o,c,n)}),V(o.join(","),c),h.value=!1}).catch(a=>{v(b.ERROR,a.message)}),(a,l)=>{const o=D,n=A;return g(),d("div",z,[t("div",H,[t("img",{src:s.image,class:"left-image"},null,8,J),t("div",K,[t("p",Q,i(s.name),1),t("div",W,[e(o,{src:s.creator.avatarUrl},null,8,["src"]),t("span",X,i(s.creator.nickname),1),t("div",Y,[(g(!0),d(I,null,M(s.tag,r=>(g(),d("span",{key:r},"#"+i(r),1))),128))])]),t("p",Z,i(s.description),1),t("div",ss,[e(G,{songs:c},null,8,["songs"]),e(O,{name:"收藏",icon:""})])])]),e(j,{active:"song",class:"playlist-tab",onGetActive:x},{content:m(()=>[e(n,{label:`歌曲 ${c.length}`,name:"song"},{default:m(()=>[e(F,{songs:c,isPlaylist:!0},null,8,["songs"])]),_:1},8,["label"]),e(n,{label:`评论 ${Math.floor(+s.playCount%1e3)}`,name:"comment"},{default:m(()=>[e(q)]),_:1},8,["label"])]),_:1})])}}});const is=$(as,[["__scopeId","data-v-d3b65257"]]);export{is as default};
