import{d as y,i as u,j as _,h as m,M as S,a7 as E,a8 as w,t as x,v as B,m as d,n as p,a as L,y as t,w as g,z as M,o as R,b as I,H as T,L as V,_ as j}from"./index-424b24d2.js";import{T as C,_ as N}from"./Tab-0354cbb1.js";import{P as O}from"./PlayButton-b1b8e6d4.js";import{D as v}from"./DecoratedButton-379cc501.js";import{S as P}from"./SearchButton-e92b353c.js";const k={class:"love-container common-container"},D={class:"operation"},G=y({__name:"LoveView",setup(U){var l;const f=(l=u(_.SESSION,"userInfo"))==null?void 0:l.uid,a=m(u(_.SESSION,"lovelist")||[]);let c;const n=S(""),i=M("firstLoading");i.value=!0;const h=o=>{c=m([]),n.value=o;const s=a.filter(e=>e.name.includes(n.value)||e.album.includes(n.value)||e.singer.includes(n.value));c.push(...s)};return E(f).then(async o=>{const{ids:s}=o;try{const e=await w(s.join(",")),{songs:r}=e;r&&(r.forEach(b=>{x([],a,b,!0)}),B(s.join(","),a),i.value=!1)}catch(e){d(p.ERROR,e.message)}}).catch(o=>{d(p.ERROR,o.message)}),(o,s)=>{const e=V;return R(),L("div",k,[t(C,{active:"song",onGetActive:s[0]||(s[0]=()=>{})},{content:g(()=>[t(e,{label:`歌曲 ${a.length}`,name:"song"},{default:g(()=>[I("div",D,[t(O,{songs:a},null,8,["songs"]),t(v,{icon:"󰌄",name:"下载"}),t(v,{icon:"",name:"批量操作"}),t(P,{onGetContent:h})]),t(N,{songs:n.value?T(c):a,isPlaylist:!0,height:"440px"},null,8,["songs"])]),_:1},8,["label"])]),_:1})])}}});const F=j(G,[["__scopeId","data-v-51b0b1a3"]]);export{F as default};
