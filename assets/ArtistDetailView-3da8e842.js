import{d as P,g as M,M as z,h,a3 as G,t as H,v as K,m as A,n as y,a as L,b as e,A as _,P as g,y as i,w as f,K as $,z as T,a4 as J,a5 as Q,O as W,a6 as X,o as u,c as S,F as C,r as Y,B as Z,C as ss,u as es,L as as,H as w,_ as ts}from"./index-424b24d2.js";import{T as os,_ as ns}from"./Tab-0354cbb1.js";import{M as is}from"./Mv-336267c4.js";import{D as V}from"./DecoratedButton-379cc501.js";import{A as ls}from"./Albums-7d5fc406.js";import{L as x}from"./Loading-7488edab.js";const cs=p=>(Z("data-v-6939aba9"),p=p(),ss(),p),rs={class:"artist-detail-container scroll-container"},us={class:"header"},ds=["src"],_s={class:"right"},ms={class:"name"},hs={class:"info"},gs={key:0},fs=cs(()=>e("p",{class:"job"},"职业：歌手、词曲创作者",-1)),ps={class:"fans"},vs={class:"content"},bs={class:"detail"},As={class:"desc"},ys=P({__name:"ArtistDetailView",setup(p){es(l=>({"5bd1a6aa":w(N),"2125a614":w(O),"1a6a3813":w(j)}));const N=M().get("fontColor"),O=M().get("fontBlack"),j=M().get("shadow"),B=$(),d=B.query.id,U=B.query.score,a=z(!1),I=T("firstLoading");I.value=!0;const q=T("hideScroll"),n=h({name:d+"",id:"",avatar:"",score:Math.floor(Number.parseInt(U)/1e4)+"万",alias:[]}),v=h([]),R=h([]),k=h([]),D=h([]),F=l=>{q(),l=="mv"&&k.length==0?(a.value=!0,J(d+"").then(s=>{const{mvs:t}=s;t.forEach(o=>{const{id:r,name:c,artistName:m,imgurl16v9:b,playCount:E}=o;k.push({id:r,name:c,artist:m,image:b,playCount:E})}),a.value=!1}).catch(s=>{A(y.ERROR,s.message)})):l=="album"&&D.length==0?(a.value=!0,Q(d+"").then(s=>{const{hotAlbums:t}=s;t.forEach(o=>{const{picUrl:r,name:c,publishTime:m}=o;D.push({name:c,id:o.id,cover:r,publishTime:W(m),artistId:d+""})}),a.value=!1}).catch(s=>{A(y.ERROR,s.message)})):l=="detail"&&v.length==0&&(a.value=!0,X(d+"").then(s=>{const{introduction:t}=s;t.forEach(o=>{v.push({title:o.ti,content:o.txt})}),a.value=!1}).catch(s=>{A(y.ERROR,s.message)}))};return G(d+"").then(l=>{const{artist:s,hotSongs:t}=l,{name:o,alias:r,picUrl:c,briefDesc:m}=s;n.name=o,n.alias=r,n.avatar=c,n.briefDesc=m;const b=[];t.forEach(E=>{H(b,R,E)}),K(b.join(","),R),I.value=!1}).catch(l=>{A(y.ERROR,l.message)}),(l,s)=>{var o,r;const t=as;return u(),L("div",rs,[e("div",us,[e("img",{src:n.avatar,class:"left"},null,8,ds),e("div",_s,[e("h4",ms,_(n.name),1),e("div",hs,[((o=n.alias)==null?void 0:o.length)!=0?(u(),L("p",gs," 英文名："+_((r=n.alias)==null?void 0:r.join("、")),1)):g("",!0),fs]),e("span",ps,"粉丝数："+_(n.score),1),e("div",null,[i(V,{icon:"󰅵",name:"关注",class:"operate"}),i(V,{icon:"",name:"歌手电台",class:"operate"})])])]),e("div",vs,[i(os,{active:"hot",onGetActive:F},{content:f(()=>[i(t,{label:"精选",name:"hot"},{default:f(()=>[i(ns,{songs:R},null,8,["songs"])]),_:1}),i(t,{label:"专辑",name:"album"},{default:f(()=>[a.value?(u(),S(x,{key:0,isLoading:a.value},null,8,["isLoading"])):g("",!0),i(ls,{albums:D},null,8,["albums"])]),_:1}),i(t,{label:"视频",name:"mv"},{default:f(()=>[a.value?(u(),S(x,{key:0,isLoading:a.value},null,8,["isLoading"])):g("",!0),i(is,{mvs:k},null,8,["mvs"])]),_:1}),i(t,{label:"详情",name:"detail"},{default:f(()=>[a.value?(u(),S(x,{key:0,isLoading:a.value},null,8,["isLoading"])):g("",!0),e("div",bs,[e("p",As,_(n.briefDesc),1),v.length>0?(u(!0),L(C,{key:0},Y(v,c=>(u(),L(C,{key:c.title},[e("h4",null,_(c.title),1),e("p",null,_(c.content),1)],64))),128)):g("",!0)])]),_:1})]),_:1})])])}}});const Ss=ts(ys,[["__scopeId","data-v-6939aba9"]]);export{Ss as default};
