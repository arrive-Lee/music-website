import{g as s,u as a}from"../element-plus/element-plus.f3996937.js";import{G as e,ax as t,Z as o,c as l,a as i,U as n,T as r,O as m,u as p,o as u,S as c,z as d}from"../@vue/@vue.7ad02ad1.js";import{b as j}from"../vue-router/vue-router.53ff932e.js";import{g as h,b as f,D as b,p as g,e as v,f as y,K as T,j as _,k as z,_ as A}from"../../assets/index-c87ad811.js";import{A as w}from"../Albums/Albums.7233af03.js";import{T as B,_ as D}from"../Tab/Tab.2d875c86.js";import{P as R}from"../PlayButton/PlayButton.597188bd.js";import{D as x}from"../DecoratedButton/DecoratedButton.1abbb3e6.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../nprogress/nprogress.8c6d26c7.js";import"../lodash/lodash.57b1d944.js";const I={class:"album-detail-container scroll-container"},k={class:"header"},E={class:"right"},O={class:"artist"},P={class:"header-operation"},U={class:"content"},q={class:"info"},G={class:"desc"},S=A(e({__name:"AlbumDetailView",setup(e){t((s=>({"4b425c7e":p(A),"46ae6221":p(S),aff97334:p(C)})));const A=h().get("fontColor"),S=h().get("fontBlack"),C=h().get("shadow"),K=j(),L=K.query.id+"",V=K.query.artistId+"",Z=o({id:L,artistId:V,name:"",cover:"",artist:"",publishTime:""}),F=o([]),H=o([]),J=d("firstLoading"),M=d("hideScroll"),N=()=>{M()};return f((async()=>{try{const s=await b(V),{hotAlbums:a}=s;for(let e of a){const{id:s}=e;if(s!=L&&F.length<=5){const{picUrl:a,name:t,publishTime:o}=e;F.push({name:t,id:s,cover:a,publishTime:g(o),artistId:V+""})}else if(F.length>5)break}}catch(s){v(y.ERROR,s.message)}try{const s=await T(L),{album:{picUrl:a,artist:e,publishTime:t,name:o,company:l,description:i},songs:n}=s;Z.name=o,Z.cover=a,Z.publishTime=g(t),Z.artist=e.name,Z.company=l,Z.description=i;const r=[];n.forEach((s=>{_(r,H,s)})),z(r.join(","),H)}catch(s){v(y.ERROR,s.message)}J.value=!1}),J),(e,t)=>{const o=s,p=a;return u(),l("div",I,[i("div",k,[n(o,{src:Z.cover,lazy:"",class:"left"},null,8,["src"]),i("div",E,[i("h4",null,r(Z.name),1),i("p",O,r(Z.artist),1),i("p",null,r(Z.publishTime),1),i("div",P,[n(R,{songs:H},null,8,["songs"]),n(x,{name:"收藏",icon:""})])])]),i("div",U,[n(B,{active:"songs",onGetActive:N},{content:m((()=>[n(p,{label:"歌曲",name:"songs"},{default:m((()=>[n(D,{songs:H},null,8,["songs"]),n(w,{albums:F,title:"该歌手的其它专辑"},null,8,["albums"])])),_:1}),n(p,{label:"详情",name:"album"},{default:m((()=>[i("div",q,[i("p",null,[c(" 专辑："),i("span",null,r(Z.name),1)]),i("p",null,[c(" 歌手："),i("span",null,r(Z.artist),1)]),i("p",null,[c(" 唱片公司："),i("span",null,r(Z.company),1)]),i("p",null,[c(" 发布时间："),i("span",null,r(Z.publishTime),1)]),i("p",null,[c(" 专辑简介："),i("span",G,r(Z.description),1)])])])),_:1})])),_:1})])])}}}),[["__scopeId","data-v-07c61a27"]]);export{S as default};
