import{u as a}from"../element-plus/element-plus.372e8740.js";import{_ as s}from"../OnlineBatch/OnlineBatch.8f93b637.js";import{G as e,ax as t,d as o,Z as i,c as l,P as n,V as r,U as m,a as c,T as u,R as d,u as p,M as v,O as g,o as h,F as f,a7 as j,ay as y,az as b,z as _}from"../@vue/@vue.7ad02ad1.js";import{b as L}from"../vue-router/vue-router.53ff932e.js";import{g as R,a as w,b as E,E as S,e as M,d as O,F as x,o as B,G as D,H as k,I as z,p as A,i as I,j as T,s as C,_ as G}from"../../assets/index-436cfb30.js";import{M as F}from"../Mv/Mv.c8c30b78.js";import{D as U}from"../DecoratedButton/DecoratedButton.b48bbfae.js";import{A as q}from"../Albums/Albums.4cfd645f.js";import{T as H}from"../Tab/Tab.3823af0d.js";import{_ as N}from"../SongList.vue_vue_type_style_index_0_lang/SongList.vue_vue_type_style_index_0_lang.ad9427ec.js";import{L as P}from"../Loading/Loading.a215bf41.js";import{M as V}from"../MoreButton/MoreButton.5f08b1c6.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../pinia/pinia.07d51cb2.js";import"../axios/axios.d4208f68.js";import"../nprogress/nprogress.8c6d26c7.js";const Z={class:"artist-detail-container scroll-container"},J={class:"header"},K=["src"],Q={class:"right"},W={class:"name"},X={class:"info"},Y={key:0},$=(a=>(y("data-v-d2383f78"),a=a(),b(),a))((()=>c("p",{class:"job"},"职业：歌手、词曲创作者",-1))),aa={class:"fans"},sa={class:"header-operation"},ea={class:"content"},ta={class:"detail"},oa={class:"desc"},ia=G(e({__name:"ArtistDetailView",setup(e){t((a=>({"6188ddb4":p(y),"3103d679":p(b),"6d81e70e":p(G)})));const y=R().get("fontColor"),b=R().get("fontBlack"),G=R().get("shadow"),ia=w(),la=L(),na=la.query.id+"",ra=la.query.score,ma=o(!1),ca=_("firstLoading"),ua=_("hideScroll"),da=i({name:"",score:Math.floor(Number.parseInt(ra)/1e4)+"万",id:na,avatar:"",alias:[]}),pa=i([]),va=i([]),ga=i([]),ha=i([]),fa=o(!1),ja=a=>{fa.value=a},ya=a=>{ua(),fa.value=a},ba=()=>{C("我有一个宝藏歌手推荐给你："+da.name+"，地址：https://www.liyinchao.cloud/#"+la.fullPath)},_a=a=>{ua(),"mv"==a&&0==ga.length?E((async()=>{try{const a=await S(na),{mvs:s}=a;s.forEach((a=>{const{id:s,name:e,artistName:t,imgurl16v9:o,playCount:i}=a;ga.push({id:s,name:e,artist:t,image:o,playCount:i})}))}catch(a){M(O.ERROR,a.message)}ma.value=!1}),ma):"album"==a&&0==ha.length?E((async()=>{try{const a=await x(na),{hotAlbums:s}=a;s.forEach((a=>{const{picUrl:s,name:e,publishTime:t}=a;ha.push({name:e,id:a.id,cover:s,publishTime:B(t),artistId:na+""})}))}catch(a){M(O.ERROR,a.message)}ma.value=!1}),ma):"detail"==a&&0==pa.length&&E((async()=>{try{const a=await D(na),{introduction:s}=a;s.forEach((a=>{pa.push({title:a.ti,content:a.txt})}))}catch(a){M(O.ERROR,a.message)}ma.value=!1}),ma)};return E((async()=>{try{const a=await k(na),{artist:s}=a,{name:e,alias:t,picUrl:o,briefDesc:i}=s;da.name=e,da.alias=t,da.avatar=o,da.briefDesc=i,ia.initLoveStatus(da,ia.loveSingerId)}catch(a){M(O.ERROR,a.message)}try{const a=await z(na,1e3),{songs:s}=a,e=s.map((a=>a.id)).join(","),t=await A(e),{songs:o}=t;o.forEach((a=>{I([],va,a)})),ia.initLoveMusic(va),T(e,va)}catch(a){M(O.ERROR,a.message)}ca.value=!1}),ca),(e,t)=>{var o,i;const y=s,b=a;return h(),l("div",Z,[n(m(y,{songs:va,onCloseSelect:ja},null,8,["songs"]),[[r,fa.value]]),n(c("div",J,[c("img",{src:da.avatar,class:"left"},null,8,K),c("div",Q,[c("h4",W,u(da.name),1),c("div",X,[0!=(null==(o=da.alias)?void 0:o.length)?(h(),l("p",Y," 英文名："+u(null==(i=da.alias)?void 0:i.join("、")),1)):d("",!0),$]),c("span",aa,"粉丝数："+u(da.score),1),c("div",sa,[m(U,{name:da.isLove?"取消关注":"关注",icon:da.isLove?"":"","icon-style":da.isLove?"color:#ff6a6a;":"",onClick:t[0]||(t[0]=a=>p(ia).addLove(da,p(ia).loveSinger,p(ia).loveSingerId,"loveSinger"))},null,8,["name","icon","icon-style"]),m(U,{icon:"",name:"歌手电台"}),fa.value?d("",!0):(h(),v(V,{key:0,"share-to":ba,onOpenSelect:ya}))])])],512),[[r,!fa.value]]),n(c("div",ea,[m(H,{active:"hot",onGetActive:_a},{content:g((()=>[m(b,{label:"精选",name:"hot"},{default:g((()=>[m(N,{songs:va},null,8,["songs"])])),_:1}),m(b,{label:"专辑",name:"album"},{default:g((()=>[m(P,{isLoading:ma.value},null,8,["isLoading"]),m(q,{albums:ha},null,8,["albums"])])),_:1}),m(b,{label:"视频",name:"mv"},{default:g((()=>[m(P,{isLoading:ma.value},null,8,["isLoading"]),m(F,{mvs:ga},null,8,["mvs"])])),_:1}),m(b,{label:"详情",name:"detail"},{default:g((()=>[m(P,{isLoading:ma.value},null,8,["isLoading"]),c("div",ta,[c("p",oa,u(da.briefDesc),1),pa.length>0?(h(!0),l(f,{key:0},j(pa,(a=>(h(),l(f,{key:a.title},[c("h4",null,u(a.title),1),c("p",null,u(a.content),1)],64)))),128)):d("",!0)])])),_:1})])),_:1})],512),[[r,!fa.value]])])}}}),[["__scopeId","data-v-d2383f78"]]);export{ia as default};
