import{v as e,w as s}from"../element-plus/element-plus.372e8740.js";import{G as a,ax as l,Z as t,d as i,P as o,c as n,a as r,F as u,a7 as c,U as p,u as m,V as v,o as d,I as g,T as h,ay as j,az as f,z as b}from"../@vue/@vue.7ad02ad1.js";import{g as y,c as k,D as w,f as S,h as x,S as z,_ as C}from"../../assets/index-563ad3f3.js";import{S as _}from"../Singer/Singer.38a9fb2e.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../vue-router/vue-router.53ff932e.js";import"../nprogress/nprogress.8c6d26c7.js";import"../lodash/lodash.57b1d944.js";import"../default-passive-events/default-passive-events.8ad95ed0.js";const E=e=>(j("data-v-8141c81c"),e=e(),f(),e),R=["infinite-scroll-disabled"],T=E((()=>r("h4",{class:"title"},"歌手地区",-1))),U={class:"type"},I=["onClick"],P=E((()=>r("h4",{class:"title"},"歌手榜",-1))),V={class:"ranks"},A=["element-loading-background","element-loading-spinner"],B=C(a({__name:"ArtistlistView",setup(a){l((e=>({"437db060":m(j),"53b84be2":m(f),"85afce90":m(C)})));const j=y().get("fontColor"),f=y().get("fontBlack"),C=y().get("shadow"),E=y().get("background"),B=t([]);let D=t([]);const F=t(["内地","欧美","韩国","日本"]),G=i(0),H=i(18),L=i(!1),O=i(!1),Z=b("firstLoading"),q=()=>{H.value<B[G.value].length?(O.value=!0,L.value=!0,setTimeout((()=>{H.value+=6,D.push(...B[G.value].slice(D.length,H.value)),O.value=!1,L.value=!1}),1e3)):(O.value=!0,L.value=!0,setTimeout((()=>{O.value=!1,H.value=B[G.value].length,D.push(...B[G.value].slice(D.length,H.value)),S(x.SUCCESS,"已经到底啦！")}),1e3))};return k((async()=>{try{(await Promise.all([w(1),w(2),w(3),w(4)])).forEach((e=>{const{list:{artists:s}}=e,a=t([]);s.forEach((e=>{const{name:s,id:l,picUrl:t,score:i}=e;a.push({name:s,id:l,avatar:t,score:i})})),B.push(a)})),D.push(...B[G.value].slice(0,H.value))}catch(e){S(x.ERROR,e.message)}Z.value=!1}),Z),(a,l)=>{const i=e,j=s;return o((d(),n("div",{"infinite-scroll-distance":"2","infinite-scroll-immediate":!1,"infinite-scroll-disabled":L.value,class:"artistlist-container scroll-container",style:{overflow:"auto"}},[T,r("div",U,[(d(!0),n(u,null,c(F,((e,s)=>(d(),n("button",{onClick:e=>(e=>{G.value=e,H.value=18,D=t([]),D.push(...B[G.value].slice(0,H.value)),L.value=!1})(s),key:e,class:g({"is-active":s==G.value})},h(e),11,I)))),128))]),P,r("div",V,[p(_,{"singer-list":m(D)},null,8,["singer-list"]),o(r("div",{"element-loading-background":m(E),"element-loading-text":"加载中，请勿继续滚动！","element-loading-spinner":m(z),class:"tip"},null,8,A),[[v,O.value],[i,O.value]])])],8,R)),[[j,q]])}}}),[["__scopeId","data-v-8141c81c"]]);export{B as default};
