import{S as e}from"../SearchButton/SearchButton.28e4faab.js";import{G as a,ax as s,Z as t,i as l,d as o,c as i,U as r,a as n,F as u,a7 as p,u as c,o as m,P as v,I as j,S as d,T as h,ay as f,az as g,z as w,n as y,aq as S}from"../@vue/@vue.7ad02ad1.js";import{g as G,E as B,f as C,h as k,_ as z}from"../../assets/index-4587ef8d.js";import{S as x}from"../Singer/Singer.3b22fb95.js";import{B as _}from"../ButtonGroup/ButtonGroup.9da392bd.js";import"../lodash-es/lodash-es.3125e237.js";import"../element-plus/element-plus.372e8740.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../vue-router/vue-router.53ff932e.js";import"../nprogress/nprogress.8c6d26c7.js";const A=e=>(f("data-v-11df74c1"),e=e(),g(),e),E={class:"artistlist-container scroll-container"},I=A((()=>n("h4",{class:"title"},"歌手类型",-1))),M={class:"name-ch"},R=["onClick"],L=A((()=>n("h4",{class:"title"},"全部歌手",-1))),U={class:"ranks"},b=z(a({__name:"ArtistlistView",setup(a){s((e=>({"89c13440":c(f),"3bc9e5ff":c(g),"6598cec8":c(z)})));const f=G().get("fontColor"),g=G().get("fontBlack"),z=G().get("shadow"),A=t([]),b=l((()=>A.filter((e=>e.name.includes(F.value))))),F=o(""),H=t(new Map),O=o(0),P=l((()=>V.get(T[O.value]))),T=t(["全部","男歌手","女歌手","组合"]),V=new Map([["全部",-1],["男歌手",1],["女歌手",2],["组合",3]]),Z=o(0),q=l((()=>J.get(D[Z.value]))),D=["全部","华语","欧美","日本","韩国","其他"],J=new Map([["全部",-1],["华语",7],["欧美",96],["日本",8],["韩国",16],["其他",0]]),K=t("全部,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,#".split(",")),N=o("全部"),Q=w("firstLoading"),W=w("hideScroll"),X=async(e,a)=>{W(),A.splice(0),"歌手地区"==a?Z.value=e:"歌手类型"==a?O.value=e:N.value=K[e],await y();const s=H.get(P.value+""+q.value+N.value);s?A.push(...s):$()},Y=e=>{F.value=e},$=async()=>{Q.value=!0;try{const e=await B(P.value,q.value,100,"全部"==N.value?void 0:N.value.toLowerCase()),{artists:a}=e;a.forEach((e=>{const{img1v1Url:a,id:s,name:t,fansCount:l}=e;A.push({id:s,name:t,avatar:a,score:l})})),H.set(P.value+""+q.value+N.value,[...A])}catch(e){C(k.ERROR,e.message)}Q.value=!1};return $(),(a,s)=>{const t=e,l=S("prevent");return m(),i("div",E,[r(t,{onGetContent:Y}),I,r(_,{onGetActive:X,type:D,"active-value":0,"show-title":!1,title:"歌手地区",class:"area"}),r(_,{onGetActive:X,type:T,"active-value":0,"show-title":!1,title:"歌手类型"},null,8,["type"]),n("ul",M,[(m(!0),i(u,null,p(K,((e,a)=>v((m(),i("li",{key:e,onClick:e=>X(a,"歌手姓名"),class:j({"is-active":N.value==e})},[d(h(e),1)],10,R)),[[l]]))),128))]),L,n("div",U,[r(x,{"singer-list":F.value?c(b):A,"show-all-avatar":!1},null,8,["singer-list"])])])}}}),[["__scopeId","data-v-11df74c1"]]);export{b as default};
