import{g as a,u as s}from"../element-plus/element-plus.f3996937.js";import{G as e,ax as t,Z as o,c as r,a as i,T as l,U as n,F as m,a7 as c,O as p,u,o as d,z as g}from"../@vue/@vue.7ad02ad1.js";import{b as j}from"../vue-router/vue-router.53ff932e.js";import{g as f,b as v,m as h,n as y,f as b,h as _,_ as k}from"../../assets/index-80ac5bcd.js";import{T as w,_ as z}from"../Tab/Tab.2812a435.js";import{P as B}from"../PlayButton/PlayButton.6ed61330.js";import{D as C}from"../DecoratedButton/DecoratedButton.e6e05208.js";import{N as U}from"../NoSearch/NoSearch.c68b6378.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../lodash/lodash.57b1d944.js";import"../nprogress/nprogress.8c6d26c7.js";const x={class:"playlist-container scroll-container"},P={class:"header"},T=["src"],D={class:"right"},N={class:"title"},S={class:"creator"},A={class:"creator-name"},G={class:"tag"},I={class:"description"},L={class:"operation"},$=k(e({__name:"PlayListView",setup(e){t((a=>({"8badb1d8":u(k),"2b26756a":u($),"5ab6d5fc":u(q)})));const k=f().get("fontColor"),$=f().get("fontBlack"),q=f().get("shadow"),E=j().query.id+"",F=o({id:E,name:"",image:"",playCount:"",tag:[],description:"",creator:{nickname:"",avatarUrl:""}}),M=o([]),O=g("firstLoading"),V=g("hideScroll"),Z=()=>{V()};return v((async()=>{const a=await h(E),{playlist:{name:s,coverImgUrl:e,description:t,tags:o,creator:r,playCount:i}}=a;F.name=s,F.image=e,F.description=t,F.tag=o,F.creator.avatarUrl=r.avatarUrl,F.creator.nickname=r.nickname,F.playCount=i;const l=await y(E),{songs:n}=l,m=[];n.forEach((a=>{b(m,M,a)})),_(m.join(","),M),O.value=!1}),O),(e,t)=>{const o=a,u=s;return d(),r("div",x,[i("div",P,[i("img",{src:F.image,class:"left-image"},null,8,T),i("div",D,[i("p",N,l(F.name),1),i("div",S,[n(o,{src:F.creator.avatarUrl},null,8,["src"]),i("span",A,l(F.creator.nickname),1),i("div",G,[(d(!0),r(m,null,c(F.tag,(a=>(d(),r("span",{key:a},"#"+l(a),1)))),128))])]),i("p",I,l(F.description),1),i("div",L,[n(B,{songs:M},null,8,["songs"]),n(C,{name:"收藏",icon:""})])])]),n(w,{active:"song",class:"playlist-tab",onGetActive:Z},{content:p((()=>[n(u,{label:`歌曲 ${M.length}`,name:"song"},{default:p((()=>[n(z,{songs:M,isPlaylist:!0},null,8,["songs"])])),_:1},8,["label"]),n(u,{label:`评论 ${Math.floor(+F.playCount%1e3)}`,name:"comment"},{default:p((()=>[n(U)])),_:1},8,["label"])])),_:1})])}}}),[["__scopeId","data-v-892f6505"]]);export{$ as default};
