import{g as a,u as s}from"../element-plus/element-plus.1b7b143d.js";import{G as e,Z as t,c as o,a as r,T as l,U as i,F as n,a7 as c,O as m,z as p,o as u,ay as d,u as g}from"../@vue/@vue.8ad7c23d.js";import{b as j}from"../vue-router/vue-router.b970196e.js";import{g as f,l as v,e as h,d as y,m as b,i as _,j as k,_ as z}from"../../assets/index-26ab7b85.js";import{T as B,_ as C}from"../Tab/Tab.783e2233.js";import{P as R}from"../PlayButton/PlayButton.9652400c.js";import{D as U}from"../DecoratedButton/DecoratedButton.7a8461df.js";import{N as P}from"../NoSearch/NoSearch.34d40b8a.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.975449d5.js";import"../@element-plus/@element-plus.6a4138c6.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.5e0359dc.js";import"../lodash/lodash.57b1d944.js";import"../nprogress/nprogress.8c6d26c7.js";const w={class:"playlist-container scroll-container"},x={class:"header"},T=["src"],D={class:"right"},E={class:"title"},N={class:"creator"},O={class:"creator-name"},S={class:"tag"},A={class:"description"},G={class:"operation"},I=z(e({__name:"PlayListView",setup(e){d((a=>({"0f2f7d7f":g(z),"4082b9c0":g(I),"7e85fee7":g(L)})));const z=f().get("fontColor"),I=f().get("fontBlack"),L=f().get("shadow"),$=j().query.id,q=t({id:$+"",name:"",image:"",playCount:"",tag:[],description:"",creator:{nickname:"",avatarUrl:""}}),F=t([]),M=p("firstLoading");M.value=!0;const V=p("hideScroll"),Z=()=>{V()};return v(q.id).then((a=>{const{playlist:{name:s,coverImgUrl:e,description:t,tags:o,creator:r,playCount:l}}=a;q.name=s,q.image=e,q.description=t,q.tag=o,q.creator.avatarUrl=r.avatarUrl,q.creator.nickname=r.nickname,q.playCount=l})).catch((a=>{h(y.ERROR,a.message)})),b($+"").then((a=>{const{songs:s}=a,e=[];s.forEach((a=>{_(e,F,a)})),k(e.join(","),F),M.value=!1})).catch((a=>{h(y.ERROR,a.message)})),(e,t)=>{const p=a,d=s;return u(),o("div",w,[r("div",x,[r("img",{src:q.image,class:"left-image"},null,8,T),r("div",D,[r("p",E,l(q.name),1),r("div",N,[i(p,{src:q.creator.avatarUrl},null,8,["src"]),r("span",O,l(q.creator.nickname),1),r("div",S,[(u(!0),o(n,null,c(q.tag,(a=>(u(),o("span",{key:a},"#"+l(a),1)))),128))])]),r("p",A,l(q.description),1),r("div",G,[i(R,{songs:F},null,8,["songs"]),i(U,{name:"收藏",icon:""})])])]),i(B,{active:"song",class:"playlist-tab",onGetActive:Z},{content:m((()=>[i(d,{label:`歌曲 ${F.length}`,name:"song"},{default:m((()=>[i(C,{songs:F,isPlaylist:!0},null,8,["songs"])])),_:1},8,["label"]),i(d,{label:`评论 ${Math.floor(+q.playCount%1e3)}`,name:"comment"},{default:m((()=>[i(P)])),_:1},8,["label"])])),_:1})])}}}),[["__scopeId","data-v-f2509bfd"]]);export{I as default};
