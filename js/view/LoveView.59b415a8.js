import{u as s}from"../element-plus/element-plus.f3996937.js";import{a as e,s as o,b as a,G as t,H as n,j as i,k as r,e as l,f as m,_ as p}from"../../assets/index-1a5908cb.js";import{T as u,_ as c}from"../Tab/Tab.7e2bfc12.js";import{P as j}from"../PlayButton/PlayButton.131230e1.js";import{D as d}from"../DecoratedButton/DecoratedButton.9a6b8864.js";import{S as v}from"../SearchButton/SearchButton.3fce9e37.js";import{G as f,Z as g,d as h,c as y,U as S,O as b,o as _,a as B,u as z,z as w}from"../@vue/@vue.7ad02ad1.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../lodash/lodash.57b1d944.js";import"../vue-router/vue-router.53ff932e.js";import"../nprogress/nprogress.8c6d26c7.js";const x={class:"love-container common-container"},G={class:"operation"},E=p(f({__name:"LoveView",setup(p){var f;const E=g(e(o.SESSION,"lovelist")||[]),I=null==(f=e(o.SESSION,"userInfo"))?void 0:f.uid;let O;const P=h(""),D=w("firstLoading"),R=s=>{O=g([]),P.value=s;const e=E.filter((s=>s.name.includes(P.value)||s.album.includes(P.value)||s.singer.includes(P.value)));O.push(...e)};return a((async()=>{try{const s=await t(I),{ids:e}=s,o=await n(e.join(",")),{songs:a}=o;a&&(a.forEach((s=>{i([],E,s,!0)})),r(e.join(","),E))}catch(s){l(m.ERROR,s.message)}D.value=!1}),D),(e,o)=>{const a=s;return _(),y("div",x,[S(u,{active:"song",onGetActive:o[0]||(o[0]=()=>{})},{content:b((()=>[S(a,{label:`歌曲 ${E.length}`,name:"song"},{default:b((()=>[B("div",G,[S(j,{songs:E},null,8,["songs"]),S(d,{icon:"󰌄",name:"下载"}),S(d,{icon:"",name:"批量操作"}),S(v,{onGetContent:R})]),S(c,{songs:P.value?z(O):E,isPlaylist:!0,height:"440px"},null,8,["songs"])])),_:1},8,["label"])])),_:1})])}}}),[["__scopeId","data-v-cb0df84d"]]);export{E as default};
