import{G as a,ax as s,Z as e,c as t,a as o,T as i,U as r,u as l,o as n,z as m}from"../@vue/@vue.7ad02ad1.js";import{b as p}from"../vue-router/vue-router.53ff932e.js";import{g as u,b as c,q as d,r as v,t as j,k as f,l as h,v as y,_ as g}from"../../assets/index-80ac5bcd.js";import{D as b}from"../DecoratedButton/DecoratedButton.e6e05208.js";import{M as C}from"../Mv/Mv.9a10b5ad.js";import"../element-plus/element-plus.f3996937.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../lodash/lodash.57b1d944.js";import"../nprogress/nprogress.8c6d26c7.js";const w={class:"video-container common-container"},x=["src"],z={class:"detail"},T={class:"title"},_={class:"artist-info"},B={class:"operation"},M=g(a({__name:"VideoPlayView",setup(a){s((a=>({c8741c8a:l(g),"7a378b04":l(M),"360ff523":l(k)})));const g=u().get("fontColor"),M=u().get("fontBlack"),k=u().get("shadow"),D=p().query.id+"",S=e({id:D,name:"",image:"",artist:"",playCount:"",url:"",time:"",publishTime:"",available:""}),V=e([]),q=m("firstLoading"),E=()=>{f(h.SUCCESS,"MV开始下载，请稍后。");const a=S.name+"-"+S.artist+".mp4",s=S.url;y(s,a)};return c((async()=>{if(/\d{1,50}/.test(D)){const a=await d(D),{data:{name:s,artistName:e,cover:t,playCount:o,duration:i,publishTime:r}}=a;S.name=s,S.image=t,S.artist=e,S.playCount=o,S.time=i,S.publishTime=r;const l=await v(D),{data:{url:n,fee:m}}=l;S.url=n,S.available=m;const p=await j(D),{mvs:u}=p;u&&u.forEach((a=>{V.push({id:a.id,image:a.cover,name:a.name,artist:a.artistName,playCount:a.playCount})})),q.value=!1}}),q),(a,s)=>(n(),t("div",w,[o("video",{src:S.url,controls:"",ref:"video",class:"video-player"},null,8,x),o("div",z,[o("p",T,i(S.name),1),o("div",_,[o("span",null,"演唱："+i(S.artist),1),o("span",null,i(S.playCount)+"次观看",1),o("span",null,"发布时间："+i(S.publishTime),1)]),o("div",B,[r(b,{name:"下载",onClick:E,icon:"",class:"operate"}),r(b,{name:"收藏",icon:"",class:"operate"}),r(b,{name:"分享",icon:"",class:"operate"}),r(b,{name:"评论",icon:"",class:"operate"})])]),r(C,{mvs:V,title:"相关推荐"},null,8,["mvs"])]))}}),[["__scopeId","data-v-12a0b13f"]]);export{M as default};
