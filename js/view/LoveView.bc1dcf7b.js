import{u as e}from"../element-plus/element-plus.372e8740.js";import{G as s,d as a,Z as l,c as o,a as t,U as i,O as n,o as u,P as r,V as m,u as p,z as v,n as c}from"../@vue/@vue.7ad02ad1.js";import{a as d,u as f,f as j,h as g,e as h,s as S,_ as y}from"../../assets/index-964692d5.js";import{T as b,_ as C}from"../Tab/Tab.500b9b1b.js";import{P as L}from"../PlayButton/PlayButton.a2a16fce.js";import{D as _}from"../DecoratedButton/DecoratedButton.162503fc.js";import{S as P}from"../SearchButton/SearchButton.b31e88b7.js";import{M as A}from"../Mv/Mv.4e0814f8.js";import{S as k}from"../Singer/Singer.ef91fef3.js";import{A as w}from"../Albums/Albums.1e118198.js";import{P as B}from"../PlayList/PlayList.cfb4d7ae.js";import{s as E}from"../pinia/pinia.07d51cb2.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../vue-router/vue-router.53ff932e.js";import"../nprogress/nprogress.8c6d26c7.js";import"../lodash/lodash.57b1d944.js";import"../default-passive-events/default-passive-events.8ad95ed0.js";const z={class:"love-container common-container"},I={class:"top-operation"},x={class:"top-operation operation-select"},D={class:"singers"},O=y(s({__name:"LoveView",setup(s){const y=d(),{loveSongs:O,loveVideo:G,loveSinger:M,lovePlaylist:T,loveAlbum:U}=E(y),F=f(),{isPlay:V,songList:N,songListId:H,playProcess:Z,playTime:q,current:J}=E(F);let K;const Q=a("");v("firstLoading");const R=v("hideScroll"),W=()=>{R()},X=a(!1);let Y=l([]);const $=e=>{Y=l([]),Y.push(...e)},ee=async()=>{Y.length>0?(V.value=!1,Z.value=0,q.value=0,await c(),Y.forEach((e=>{null==H.value.get(e.id)&&N.value.unshift(e)})),J.value=H.value.get(Y[0].id),V.value=!0,j(g.SUCCESS,"已添加到播放列表！")):j(g.INFO,"请添加歌曲！")},se=()=>{if(Y.length>0){const e=Y.map((e=>e.id)),s=O.value.filter((s=>!e.includes(s.id)));e.map((e=>H.value.get(e))).forEach((e=>{null!=e&&(N.value[e].isLove=!1)})),O.value.splice(0),O.value.push(...s),h(S.LOCAL,"loveSongs",O.value),j(g.SUCCESS,"已清除选中的歌曲！")}else j(g.INFO,"请添加歌曲")},ae=()=>{Y.forEach((e=>{y.addMuiscDownload(e)}))},le=()=>{O.value.map((e=>e.id)).forEach((e=>{const s=H.value.get(e);null!=s&&(N.value[s].isLove=!1)})),O.value.splice(0),h(S.LOCAL,"loveSongs",O.value),j(g.SUCCESS,"已全部清除喜欢的歌曲！")},oe=e=>{K=l([]),Q.value=e;const s=O.value.filter((e=>e.name.includes(Q.value)||e.album.includes(Q.value)||e.singer.includes(Q.value)));K.push(...s)};return(s,a)=>{const l=e;return u(),o("div",null,[t("div",z,[i(b,{active:"song",onGetActive:W},{content:n((()=>[i(l,{label:"歌曲",name:"song"},{default:n((()=>[r(t("div",I,[i(L,{songs:p(O)},null,8,["songs"]),i(_,{icon:"",onClick:le,name:"取消全部收藏"}),i(_,{icon:"",name:"批量操作",onClick:a[0]||(a[0]=e=>X.value=!X.value)}),i(P,{onGetContent:oe})],512),[[m,!X.value]]),r(t("div",x,[i(_,{icon:"",name:"播放",class:"play",onClick:ee}),i(_,{icon:"",name:"删除",onClick:se}),i(_,{icon:"󰌄",onClick:ae,name:"下载"}),i(_,{icon:"",name:"取消操作",onClick:a[1]||(a[1]=e=>X.value=!X.value)})],512),[[m,X.value]]),i(C,{songs:Q.value?p(K):p(O),showSelect:X.value,onGetSelectItems:$,height:"440px"},null,8,["songs","showSelect"])])),_:1}),i(l,{label:"视频",name:"video"},{default:n((()=>[i(A,{mvs:p(G)},null,8,["mvs"])])),_:1}),i(l,{label:"歌单",name:"playlist"},{default:n((()=>[i(B,{playlists:p(T)},null,8,["playlists"])])),_:1}),i(l,{label:"歌手",name:"singer"},{default:n((()=>[t("div",D,[i(k,{"singer-list":p(M)},null,8,["singer-list"])])])),_:1}),i(l,{label:"专辑",name:"album"},{default:n((()=>[i(w,{albums:p(U)},null,8,["albums"])])),_:1})])),_:1})])])}}}),[["__scopeId","data-v-3bec96f1"]]);export{O as default};
