import{G as a,ax as e,Z as s,i as t,d as o,c as l,U as i,a as r,F as n,a7 as u,u as p,o as c,P as m,I as v,S as d,T as j,ay as h,az as g,z as f,n as w,aq as y}from"../@vue/@vue.7ad02ad1.js";import{g as S,F as B,e as C,d as G,_ as k}from"../../assets/index-b52ca4f8.js";import{S as z}from"../Singer/Singer.7b7f44c3.js";import{B as x}from"../ButtonGroup/ButtonGroup.cd0bb1f4.js";import{S as _}from"../SearchButton/SearchButton.fa815166.js";import"../element-plus/element-plus.372e8740.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../pinia/pinia.07d51cb2.js";import"../axios/axios.d4208f68.js";import"../vue-router/vue-router.47595bf3.js";import"../nprogress/nprogress.8c6d26c7.js";const A=a=>(h("data-v-66cac5a4"),a=a(),g(),a),M={class:"artistlist-container scroll-container"},R=A((()=>r("h4",{class:"title"},"歌手类型",-1))),E={class:"name-ch"},F=["onClick"],I=A((()=>r("h4",{class:"title"},"全部歌手",-1))),L={class:"ranks"},U=k(a({__name:"ArtistlistView",setup(a){e((a=>({a26da56c:p(h),"730630d5":p(g),"56dcd132":p(k)})));const h=S().get("fontColor"),g=S().get("fontBlack"),k=S().get("shadow"),A=s([]),U=t((()=>A.filter((a=>a.name.includes(H.value))))),H=o(""),J=s(new Map),K=o(0),O=t((()=>T.get(P[K.value]))),P=s(["全部","男歌手","女歌手","组合"]),T=new Map([["全部",-1],["男歌手",1],["女歌手",2],["组合",3]]),V=o(0),Z=t((()=>q.get(b[V.value]))),b=["全部","华语","欧美","日本","韩国","其他"],q=new Map([["全部",-1],["华语",7],["欧美",96],["日本",8],["韩国",16],["其他",0]]),D=s("全部,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,#".split(",")),N=o("全部"),Q=f("firstLoading"),W=f("hideScroll"),X=async(a,e)=>{W(),A.splice(0),"歌手地区"==e?V.value=a:"歌手类型"==e?K.value=a:N.value=D[a],await w();const s=J.get(O.value+""+Z.value+N.value);s?A.push(...s):$()},Y=a=>{H.value=a},$=async()=>{Q.value=!0;try{const a=await B(O.value,Z.value,100,"全部"==N.value?void 0:N.value.toLowerCase()),{artists:e}=a;e.forEach((a=>{const{img1v1Url:e,id:s,name:t,fansCount:o}=a;A.push({id:s,name:t,avatar:e,score:o})})),J.set(O.value+""+Z.value+N.value,[...A])}catch(a){C(G.ERROR,a.message)}Q.value=!1};return $(),(a,e)=>{const s=y("prevent");return c(),l("div",M,[i(_,{onGetContent:Y}),R,i(x,{onGetActive:X,type:b,"active-value":0,"show-title":!1,title:"歌手地区",class:"area"}),i(x,{onGetActive:X,type:P,"active-value":0,"show-title":!1,title:"歌手类型"},null,8,["type"]),r("ul",E,[(c(!0),l(n,null,u(D,((a,e)=>m((c(),l("li",{key:a,onClick:a=>X(e,"歌手姓名"),class:v({"is-active":N.value==a})},[d(j(a),1)],10,F)),[[s]]))),128))]),I,r("div",L,[i(z,{"singer-list":p(U),"show-all-avatar":!1},null,8,["singer-list"])])])}}}),[["__scopeId","data-v-66cac5a4"]]);export{U as default};
