import{G as a,ax as s,Z as e,c as t,a as o,T as i,U as r,u as l,z as n,o as m}from"../@vue/@vue.7ad02ad1.js";import{b as p}from"../vue-router/vue-router.53ff932e.js";import{g as c,p as u,e as d,d as v,q as j,r as h,t as f,_ as g}from"../../assets/index-107c9b53.js";import{D as y}from"../DecoratedButton/DecoratedButton.033e5b3b.js";import{M as C}from"../Mv/Mv.b208f279.js";import"../element-plus/element-plus.f3996937.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../lodash/lodash.57b1d944.js";import"../nprogress/nprogress.8c6d26c7.js";const b={class:"video-container common-container"},R=["src"],x={class:"detail"},z={class:"title"},E={class:"artist-info"},T={class:"operation"},_=g(a({__name:"VideoPlayView",setup(a){s((a=>({"46faea3d":l(g),"8198d87c":l(_),"559e46b6":l(w)})));const g=c().get("fontColor"),_=c().get("fontBlack"),w=c().get("shadow"),B=p().query.id,M=e({id:""+B,name:"",image:"",artist:"",playCount:"",url:"",time:"",publishTime:"",available:""}),D=e([]),O=n("firstLoading");O.value=!0;const S=()=>{d(v.SUCCESS,"MV开始下载，请稍后。");const a=M.name+"-"+M.artist+".mp4",s=M.url;f(s,a)};return u(M.id).then((a=>{const{data:{name:s,artistName:e,cover:t,playCount:o,duration:i,publishTime:r}}=a;M.name=s,M.image=t,M.artist=e,M.playCount=o,M.time=i,M.publishTime=r})).catch((a=>{d(v.ERROR,a.message)})),j(M.id).then((a=>{const{data:{url:s,fee:e}}=a;M.url=s,M.available=e})).catch((a=>{d(v.ERROR,a.message)})),h(M.id).then((a=>{const{mvs:s}=a;s.forEach((a=>{D.push({id:a.id,image:a.cover,name:a.name,artist:a.artistName,playCount:a.playCount})})),O.value=!1})).catch((a=>{d(v.ERROR,a.message)})),(a,s)=>(m(),t("div",b,[o("video",{src:M.url,controls:"",ref:"video",class:"video-player"},null,8,R),o("div",x,[o("p",z,i(M.name),1),o("div",E,[o("span",null,"演唱："+i(M.artist),1),o("span",null,i(M.playCount)+"次观看",1),o("span",null,"发布时间："+i(M.publishTime),1)]),o("div",T,[r(y,{name:"下载",onClick:S,icon:"",class:"operate"}),r(y,{name:"收藏",icon:"",class:"operate"}),r(y,{name:"分享",icon:"",class:"operate"}),r(y,{name:"评论",icon:"",class:"operate"})])]),r(C,{mvs:D,title:"相关推荐"},null,8,["mvs"])]))}}),[["__scopeId","data-v-1ad9615e"]]);export{_ as default};
