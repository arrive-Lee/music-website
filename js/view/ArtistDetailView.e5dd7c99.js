import{u as a}from"../element-plus/element-plus.372e8740.js";import{G as s,ax as e,d as t,Z as o,c as i,a as l,T as n,R as r,U as m,u as c,O as u,o as d,M as p,F as v,a7 as f,ay as h,az as g,z as j}from"../@vue/@vue.7ad02ad1.js";import{b as y}from"../vue-router/vue-router.53ff932e.js";import{g as b,a as L,c as R,E as _,f as k,h as E,F as w,q as D,G as A,H as S,k as x,l as z,_ as M}from"../../assets/index-964692d5.js";import{M as T}from"../Mv/Mv.4e0814f8.js";import{D as I}from"../DecoratedButton/DecoratedButton.162503fc.js";import{A as O}from"../Albums/Albums.1e118198.js";import{T as B,_ as C}from"../Tab/Tab.500b9b1b.js";import{L as G}from"../Loading/Loading.6acdd10c.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../nprogress/nprogress.8c6d26c7.js";import"../lodash/lodash.57b1d944.js";import"../default-passive-events/default-passive-events.8ad95ed0.js";const q={class:"artist-detail-container scroll-container"},F={class:"header"},U=["src"],N={class:"right"},H={class:"name"},V={class:"info"},Z={key:0},J=(a=>(h("data-v-5f488532"),a=a(),g(),a))((()=>l("p",{class:"job"},"职业：歌手、词曲创作者",-1))),K={class:"fans"},P={class:"content"},Q={class:"detail"},W={class:"desc"},X=M(s({__name:"ArtistDetailView",setup(s){e((a=>({"4f8e3d1c":c(h),f727977a:c(g),"27dcaff8":c(M)})));const h=b().get("fontColor"),g=b().get("fontBlack"),M=b().get("shadow"),X=L(),Y=y(),$=Y.query.id+"",aa=Y.query.score,sa=t(!1),ea=j("firstLoading"),ta=j("hideScroll"),oa=o({name:"",score:Math.floor(Number.parseInt(aa)/1e4)+"万",id:$,avatar:"",alias:[]}),ia=o([]),la=o([]),na=o([]),ra=o([]),ma=a=>{ta(),"mv"==a&&0==na.length?R((async()=>{try{const a=await _($),{mvs:s}=a;s.forEach((a=>{const{id:s,name:e,artistName:t,imgurl16v9:o,playCount:i}=a;na.push({id:s,name:e,artist:t,image:o,playCount:i})}))}catch(a){k(E.ERROR,a.message)}sa.value=!1}),sa):"album"==a&&0==ra.length?R((async()=>{try{const a=await w($),{hotAlbums:s}=a;s.forEach((a=>{const{picUrl:s,name:e,publishTime:t}=a;ra.push({name:e,id:a.id,cover:s,publishTime:D(t),artistId:$+""})}))}catch(a){k(E.ERROR,a.message)}sa.value=!1}),sa):"detail"==a&&0==ia.length&&R((async()=>{try{const a=await A($),{introduction:s}=a;s.forEach((a=>{ia.push({title:a.ti,content:a.txt})}))}catch(a){k(E.ERROR,a.message)}sa.value=!1}),sa)};return R((async()=>{try{const a=await S($),{artist:s,hotSongs:e}=a,{name:t,alias:o,picUrl:i,briefDesc:l}=s;oa.name=t,oa.alias=o,oa.avatar=i,oa.briefDesc=l,X.initLoveStatus(oa,X.loveSingerId);const n=[];e.forEach((a=>{x(n,la,a)})),X.initLoveMusic(la),z(n.join(","),la)}catch(a){k(E.ERROR,a.message)}ea.value=!1}),ea),(s,e)=>{var t,o;const h=a;return d(),i("div",q,[l("div",F,[l("img",{src:oa.avatar,class:"left"},null,8,U),l("div",N,[l("h4",H,n(oa.name),1),l("div",V,[0!=(null==(t=oa.alias)?void 0:t.length)?(d(),i("p",Z," 英文名："+n(null==(o=oa.alias)?void 0:o.join("、")),1)):r("",!0),J]),l("span",K,"粉丝数："+n(oa.score),1),l("div",null,[m(I,{name:oa.isLove?"取消关注":"关注",icon:oa.isLove?"":"","icon-style":oa.isLove?"color:#ff6a6a;":"",onClick:e[0]||(e[0]=a=>c(X).addLove(oa,c(X).loveSinger,c(X).loveSingerId,"loveSinger")),class:"operate"},null,8,["name","icon","icon-style"]),m(I,{icon:"",name:"歌手电台",class:"operate"})])])]),l("div",P,[m(B,{active:"hot",onGetActive:ma},{content:u((()=>[m(h,{label:"精选",name:"hot"},{default:u((()=>[m(C,{songs:la},null,8,["songs"])])),_:1}),m(h,{label:"专辑",name:"album"},{default:u((()=>[sa.value?(d(),p(G,{key:0,isLoading:sa.value},null,8,["isLoading"])):r("",!0),m(O,{albums:ra},null,8,["albums"])])),_:1}),m(h,{label:"视频",name:"mv"},{default:u((()=>[sa.value?(d(),p(G,{key:0,isLoading:sa.value},null,8,["isLoading"])):r("",!0),m(T,{mvs:na},null,8,["mvs"])])),_:1}),m(h,{label:"详情",name:"detail"},{default:u((()=>[sa.value?(d(),p(G,{key:0,isLoading:sa.value},null,8,["isLoading"])):r("",!0),l("div",Q,[l("p",W,n(oa.briefDesc),1),ia.length>0?(d(!0),i(v,{key:0},f(ia,(a=>(d(),i(v,{key:a.title},[l("h4",null,n(a.title),1),l("p",null,n(a.content),1)],64)))),128)):r("",!0)])])),_:1})])),_:1})])])}}}),[["__scopeId","data-v-5f488532"]]);export{X as default};
