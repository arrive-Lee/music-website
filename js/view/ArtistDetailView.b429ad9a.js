import{u as a}from"../element-plus/element-plus.372e8740.js";import{G as s,ax as e,d as t,Z as o,c as i,a as l,T as n,R as r,U as m,u as c,O as u,o as p,F as d,a7 as v,ay as g,az as h,z as f}from"../@vue/@vue.7ad02ad1.js";import{b as j}from"../vue-router/vue-router.53ff932e.js";import{g as y,a as _,c as b,F as L,f as R,h as E,G as S,q as w,H as x,I as z,k as A,l as D,_ as k}from"../../assets/index-0cefdbff.js";import{M as I}from"../Mv/Mv.f289674d.js";import{D as T}from"../DecoratedButton/DecoratedButton.f452dc7a.js";import{A as C}from"../Albums/Albums.54f8036d.js";import{T as M}from"../Tab/Tab.8cc6d4ba.js";import{_ as O}from"../SongList.vue_vue_type_style_index_0_lang/SongList.vue_vue_type_style_index_0_lang.bea6b4d1.js";import{L as G}from"../Loading/Loading.219459e7.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../nprogress/nprogress.8c6d26c7.js";import"../lodash/lodash.57b1d944.js";const q={class:"artist-detail-container scroll-container"},B={class:"header"},F=["src"],U={class:"right"},N={class:"name"},H={class:"info"},V={key:0},Z=(a=>(g("data-v-e1731087"),a=a(),h(),a))((()=>l("p",{class:"job"},"职业：歌手、词曲创作者",-1))),J={class:"fans"},K={class:"content"},P={class:"detail"},Q={class:"desc"},W=k(s({__name:"ArtistDetailView",setup(s){e((a=>({65599547:c(g),"6d4f8210":c(h),"02621aa2":c(k)})));const g=y().get("fontColor"),h=y().get("fontBlack"),k=y().get("shadow"),W=_(),X=j(),Y=X.query.id+"",$=X.query.score,aa=t(!1),sa=f("firstLoading"),ea=f("hideScroll"),ta=o({name:"",score:Math.floor(Number.parseInt($)/1e4)+"万",id:Y,avatar:"",alias:[]}),oa=o([]),ia=o([]),la=o([]),na=o([]),ra=a=>{ea(),"mv"==a&&0==la.length?b((async()=>{try{const a=await L(Y),{mvs:s}=a;s.forEach((a=>{const{id:s,name:e,artistName:t,imgurl16v9:o,playCount:i}=a;la.push({id:s,name:e,artist:t,image:o,playCount:i})}))}catch(a){R(E.ERROR,a.message)}aa.value=!1}),aa):"album"==a&&0==na.length?b((async()=>{try{const a=await S(Y),{hotAlbums:s}=a;s.forEach((a=>{const{picUrl:s,name:e,publishTime:t}=a;na.push({name:e,id:a.id,cover:s,publishTime:w(t),artistId:Y+""})}))}catch(a){R(E.ERROR,a.message)}aa.value=!1}),aa):"detail"==a&&0==oa.length&&b((async()=>{try{const a=await x(Y),{introduction:s}=a;s.forEach((a=>{oa.push({title:a.ti,content:a.txt})}))}catch(a){R(E.ERROR,a.message)}aa.value=!1}),aa)};return b((async()=>{try{const a=await z(Y),{artist:s,hotSongs:e}=a,{name:t,alias:o,picUrl:i,briefDesc:l}=s;ta.name=t,ta.alias=o,ta.avatar=i,ta.briefDesc=l,W.initLoveStatus(ta,W.loveSingerId);const n=[];e.forEach((a=>{A(n,ia,a)})),W.initLoveMusic(ia),D(n.join(","),ia)}catch(a){R(E.ERROR,a.message)}sa.value=!1}),sa),(s,e)=>{var t,o;const g=a;return p(),i("div",q,[l("div",B,[l("img",{src:ta.avatar,class:"left"},null,8,F),l("div",U,[l("h4",N,n(ta.name),1),l("div",H,[0!=(null==(t=ta.alias)?void 0:t.length)?(p(),i("p",V," 英文名："+n(null==(o=ta.alias)?void 0:o.join("、")),1)):r("",!0),Z]),l("span",J,"粉丝数："+n(ta.score),1),l("div",null,[m(T,{name:ta.isLove?"取消关注":"关注",icon:ta.isLove?"":"","icon-style":ta.isLove?"color:#ff6a6a;":"",onClick:e[0]||(e[0]=a=>c(W).addLove(ta,c(W).loveSinger,c(W).loveSingerId,"loveSinger")),class:"operate"},null,8,["name","icon","icon-style"]),m(T,{icon:"",name:"歌手电台",class:"operate"})])])]),l("div",K,[m(M,{active:"hot",onGetActive:ra},{content:u((()=>[m(g,{label:"精选",name:"hot"},{default:u((()=>[m(O,{songs:ia},null,8,["songs"])])),_:1}),m(g,{label:"专辑",name:"album"},{default:u((()=>[m(G,{isLoading:aa.value},null,8,["isLoading"]),m(C,{albums:na},null,8,["albums"])])),_:1}),m(g,{label:"视频",name:"mv"},{default:u((()=>[m(G,{isLoading:aa.value},null,8,["isLoading"]),m(I,{mvs:la},null,8,["mvs"])])),_:1}),m(g,{label:"详情",name:"detail"},{default:u((()=>[m(G,{isLoading:aa.value},null,8,["isLoading"]),l("div",P,[l("p",Q,n(ta.briefDesc),1),oa.length>0?(p(!0),i(d,{key:0},v(oa,(a=>(p(),i(d,{key:a.title},[l("h4",null,n(a.title),1),l("p",null,n(a.content),1)],64)))),128)):r("",!0)])])),_:1})])),_:1})])])}}}),[["__scopeId","data-v-e1731087"]]);export{W as default};
