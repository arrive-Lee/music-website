import{v as e,w as s}from"../element-plus/element-plus.1b7b143d.js";import{G as a,Z as l,d as t,P as i,c as o,a as n,F as r,a7 as u,U as c,u as m,V as p,z as v,o as d,I as g,T as h,az as j,aA as f,ay as b}from"../@vue/@vue.8ad7c23d.js";import{g as k,w as y,e as w,d as S,S as z,_ as x}from"../../assets/index-26ab7b85.js";import{S as C}from"../Singer/Singer.555583ee.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.975449d5.js";import"../@element-plus/@element-plus.6a4138c6.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.5e0359dc.js";import"../lodash/lodash.57b1d944.js";import"../vue-router/vue-router.b970196e.js";import"../nprogress/nprogress.8c6d26c7.js";const _=e=>(j("data-v-f91b2552"),e=e(),f(),e),E=["infinite-scroll-disabled"],R=_((()=>n("h4",{class:"title"},"歌手地区",-1))),T={class:"type"},U=["onClick"],A=_((()=>n("h4",{class:"title"},"歌手榜",-1))),F={class:"ranks"},I=["element-loading-background","element-loading-spinner"],P=x(a({__name:"ArtistlistView",setup(a){b((e=>({"3c0e852e":m(j),"581247d4":m(f),"497939d1":m(x)})));const j=k().get("fontColor"),f=k().get("fontBlack"),x=k().get("shadow"),_=k().get("background"),P=l([]);let V=l([]);const B=l(["内地","欧美","韩国","日本"]),G=t(0),L=t(18),O=t(!1),Z=t(!1),q=v("firstLoading");q.value=!0;const D=()=>{L.value<P[G.value].length?(Z.value=!0,O.value=!0,setTimeout((()=>{L.value+=6,V.push(...P[G.value].slice(V.length,L.value)),Z.value=!1,O.value=!1}),1e3)):(Z.value=!0,O.value=!0,setTimeout((()=>{Z.value=!1,L.value=P[G.value].length,V.push(...P[G.value].slice(V.length,L.value)),w(S.SUCCESS,"已经到底啦！")}),1e3))};return Promise.all([y(1),y(2),y(3),y(4)]).then((e=>{e.forEach((e=>{const{list:{artists:s}}=e,a=l([]);s.forEach((e=>{const{name:s,id:l,picUrl:t,score:i}=e;a.push({name:s,id:l,avatar:t,score:i})})),P.push(a)})),V.push(...P[G.value].slice(0,L.value)),q.value=!1})).catch((e=>{w(S.ERROR,e.message)})),(a,t)=>{const v=e,j=s;return i((d(),o("div",{"infinite-scroll-distance":"2","infinite-scroll-immediate":!1,"infinite-scroll-disabled":O.value,class:"artistlist-container scroll-container",style:{overflow:"auto"}},[R,n("div",T,[(d(!0),o(r,null,u(B,((e,s)=>(d(),o("button",{onClick:e=>(e=>{G.value=e,L.value=18,V=l([]),V.push(...P[G.value].slice(0,L.value)),O.value=!1})(s),key:e,class:g({"is-active":s==G.value})},h(e),11,U)))),128))]),A,n("div",F,[c(C,{"singer-list":m(V)},null,8,["singer-list"]),i(n("div",{"element-loading-background":m(_),"element-loading-text":"加载中，请勿继续滚动！","element-loading-spinner":m(z),class:"tip"},null,8,I),[[p,Z.value],[v,Z.value]])])],8,E)),[[j,D]])}}}),[["__scopeId","data-v-f91b2552"]]);export{P as default};
