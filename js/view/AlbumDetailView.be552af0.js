import{g as s,u as a}from"../element-plus/element-plus.f3996937.js";import{G as e,ax as t,Z as o,c as l,a as i,U as n,T as r,O as m,u as p,o as u,S as c,z as d}from"../@vue/@vue.7ad02ad1.js";import{b as j}from"../vue-router/vue-router.53ff932e.js";import{g as h,b as f,F as b,q as g,e as v,f as y,L as T,j as _,k as z,_ as A}from"../../assets/index-96eff843.js";import{A as w}from"../Albums/Albums.d3f673b5.js";import{T as B,_ as R}from"../Tab/Tab.3c52ec61.js";import{P as x}from"../PlayButton/PlayButton.b7231753.js";import{D}from"../DecoratedButton/DecoratedButton.c9827e7f.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../nprogress/nprogress.8c6d26c7.js";import"../lodash/lodash.57b1d944.js";const I={class:"album-detail-container scroll-container"},k={class:"header"},q={class:"right"},E={class:"artist"},O={class:"header-operation"},P={class:"content"},U={class:"info"},G={class:"desc"},L=A(e({__name:"AlbumDetailView",setup(e){t((s=>({"4b425c7e":p(A),"46ae6221":p(L),aff97334:p(S)})));const A=h().get("fontColor"),L=h().get("fontBlack"),S=h().get("shadow"),C=j(),F=C.query.id+"",V=C.query.artistId+"",Z=o({id:F,artistId:V,name:"",cover:"",artist:"",publishTime:""}),H=o([]),J=o([]),K=d("firstLoading"),M=d("hideScroll"),N=()=>{M()};return f((async()=>{try{const s=await b(V),{hotAlbums:a}=s;for(let e of a){const{id:s}=e;if(s!=F&&H.length<=5){const{picUrl:a,name:t,publishTime:o}=e;H.push({name:t,id:s,cover:a,publishTime:g(o),artistId:V+""})}else if(H.length>5)break}}catch(s){v(y.ERROR,s.message)}try{const s=await T(F),{album:{picUrl:a,artist:e,publishTime:t,name:o,company:l,description:i},songs:n}=s;Z.name=o,Z.cover=a,Z.publishTime=g(t),Z.artist=e.name,Z.company=l,Z.description=i;const r=[];n.forEach((s=>{_(r,J,s)})),z(r.join(","),J)}catch(s){v(y.ERROR,s.message)}K.value=!1}),K),(e,t)=>{const o=s,p=a;return u(),l("div",I,[i("div",k,[n(o,{src:Z.cover,lazy:"",class:"left"},null,8,["src"]),i("div",q,[i("h4",null,r(Z.name),1),i("p",E,r(Z.artist),1),i("p",null,r(Z.publishTime),1),i("div",O,[n(x,{songs:J},null,8,["songs"]),n(D,{name:"收藏",icon:""})])])]),i("div",P,[n(B,{active:"songs",onGetActive:N},{content:m((()=>[n(p,{label:"歌曲",name:"songs"},{default:m((()=>[n(R,{songs:J},null,8,["songs"]),n(w,{albums:H,title:"该歌手的其它专辑"},null,8,["albums"])])),_:1}),n(p,{label:"详情",name:"album"},{default:m((()=>[i("div",U,[i("p",null,[c(" 专辑："),i("span",null,r(Z.name),1)]),i("p",null,[c(" 歌手："),i("span",null,r(Z.artist),1)]),i("p",null,[c(" 唱片公司："),i("span",null,r(Z.company),1)]),i("p",null,[c(" 发布时间："),i("span",null,r(Z.publishTime),1)]),i("p",null,[c(" 专辑简介："),i("span",G,r(Z.description),1)])])])),_:1})])),_:1})])])}}}),[["__scopeId","data-v-07c61a27"]]);export{L as default};
