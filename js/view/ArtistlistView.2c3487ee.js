import{w as s}from"../element-plus/element-plus.372e8740.js";import{G as e,ax as a,Z as l,d as i,P as t,c as o,a as r,F as n,a7 as u,U as c,u as p,o as m,I as v,T as d,ay as j,az as h,z as g}from"../@vue/@vue.7ad02ad1.js";import{g as f,c as y,E as b,f as w,h as z,_ as S}from"../../assets/index-0cefdbff.js";import{S as k}from"../Singer/Singer.d98302a5.js";import{L as x}from"../Loading/Loading.219459e7.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../vue-router/vue-router.53ff932e.js";import"../nprogress/nprogress.8c6d26c7.js";import"../lodash/lodash.57b1d944.js";const C=s=>(j("data-v-fa049e7c"),s=s(),h(),s),E=["infinite-scroll-disabled"],_=C((()=>r("h4",{class:"title"},"歌手地区",-1))),L={class:"type"},R=["onClick"],T=C((()=>r("h4",{class:"title"},"歌手榜",-1))),U={class:"ranks"},G=S(e({__name:"ArtistlistView",setup(e){a((s=>({"3db62494":p(j),"4764582e":p(h),"7b4a7b9e":p(S)})));const j=f().get("fontColor"),h=f().get("fontBlack"),S=f().get("shadow"),C=l([]);let G=l([]);const I=l(["内地","欧美","韩国","日本"]),P=i(0),A=i(18),B=i(!1),F=i(!1),H=g("firstLoading"),O=()=>{A.value<C[P.value].length?(F.value=!0,B.value=!0,setTimeout((()=>{A.value+=6,G.push(...C[P.value].slice(G.length,A.value)),F.value=!1,B.value=!1}),1e3)):(F.value=!0,B.value=!0,setTimeout((()=>{F.value=!1,A.value=C[P.value].length,G.push(...C[P.value].slice(G.length,A.value)),w(z.SUCCESS,"已经到底啦！")}),1e3))};return y((async()=>{try{(await Promise.all([b(1),b(2),b(3),b(4)])).forEach((s=>{const{list:{artists:e}}=s,a=l([]);e.forEach((s=>{const{name:e,id:l,picUrl:i,score:t}=s;a.push({name:e,id:l,avatar:i,score:t})})),C.push(a)})),G.push(...C[P.value].slice(0,A.value))}catch(s){w(z.ERROR,s.message)}H.value=!1}),H),(e,a)=>{const i=s;return t((m(),o("div",{"infinite-scroll-distance":"2","infinite-scroll-immediate":!1,"infinite-scroll-disabled":B.value,class:"artistlist-container scroll-container",style:{overflow:"auto"}},[_,r("div",L,[(m(!0),o(n,null,u(I,((s,e)=>(m(),o("button",{onClick:s=>(s=>{P.value=s,A.value=18,G=l([]),G.push(...C[P.value].slice(0,A.value)),B.value=!1})(e),key:s,class:v({"is-active":e==P.value})},d(s),11,R)))),128))]),T,r("div",U,[c(k,{"singer-list":p(G)},null,8,["singer-list"]),c(x,{"is-loading":F.value},null,8,["is-loading"])])],8,E)),[[i,O]])}}}),[["__scopeId","data-v-fa049e7c"]]);export{G as default};
