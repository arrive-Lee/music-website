import{u as s}from"../element-plus/element-plus.1b7b143d.js";import{a as e,s as o,B as a,C as t,i as n,j as i,e as r,d as l,_ as m}from"../../assets/index-26ab7b85.js";import{T as u,_ as p}from"../Tab/Tab.783e2233.js";import{P as c}from"../PlayButton/PlayButton.9652400c.js";import{D as j}from"../DecoratedButton/DecoratedButton.7a8461df.js";import{S as d}from"../SearchButton/SearchButton.79c45d2d.js";import{G as v,Z as g,d as h,c as f,U as y,O as S,z as b,o as B,a as _,u as z}from"../@vue/@vue.8ad7c23d.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.975449d5.js";import"../@element-plus/@element-plus.6a4138c6.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.5e0359dc.js";import"../lodash/lodash.57b1d944.js";import"../vue-router/vue-router.b970196e.js";import"../nprogress/nprogress.8c6d26c7.js";const R={class:"love-container common-container"},x={class:"operation"},E=m(v({__name:"LoveView",setup(m){var v;const E=null==(v=e(o.SESSION,"userInfo"))?void 0:v.uid,O=g(e(o.SESSION,"lovelist")||[]);let w;const G=h(""),I=b("firstLoading");I.value=!0;const P=s=>{w=g([]),G.value=s;const e=O.filter((s=>s.name.includes(G.value)||s.album.includes(G.value)||s.singer.includes(G.value)));w.push(...e)};return a(E).then((async s=>{const{ids:e}=s;try{const s=await t(e.join(",")),{songs:o}=s;o&&(o.forEach((s=>{n([],O,s,!0)})),i(e.join(","),O),I.value=!1)}catch(o){r(l.ERROR,o.message)}})).catch((s=>{r(l.ERROR,s.message)})),(e,o)=>{const a=s;return B(),f("div",R,[y(u,{active:"song",onGetActive:o[0]||(o[0]=()=>{})},{content:S((()=>[y(a,{label:`歌曲 ${O.length}`,name:"song"},{default:S((()=>[_("div",x,[y(c,{songs:O},null,8,["songs"]),y(j,{icon:"󰌄",name:"下载"}),y(j,{icon:"",name:"批量操作"}),y(d,{onGetContent:P})]),y(p,{songs:G.value?z(w):O,isPlaylist:!0,height:"440px"},null,8,["songs"])])),_:1},8,["label"])])),_:1})])}}}),[["__scopeId","data-v-51b0b1a3"]]);export{E as default};
