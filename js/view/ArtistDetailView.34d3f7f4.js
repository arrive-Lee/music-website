import{u as a}from"../element-plus/element-plus.f3996937.js";import{G as s,ax as e,d as t,Z as o,c as l,a as i,T as n,R as r,U as m,O as c,u,o as d,M as p,F as v,a7 as h,ay as g,az as f,z as j}from"../@vue/@vue.7ad02ad1.js";import{b}from"../vue-router/vue-router.53ff932e.js";import{g as y,b as R,z as _,e as L,f as E,A as k,p as w,B as z,C as D,j as A,k as x,_ as T}from"../../assets/index-b4489aa2.js";import{M as B}from"../Mv/Mv.81910c67.js";import{D as M}from"../DecoratedButton/DecoratedButton.67f63e82.js";import{A as O}from"../Albums/Albums.a75c520c.js";import{T as C,_ as I}from"../Tab/Tab.3f3f2f9e.js";import{L as U}from"../Loading/Loading.faa3a6b8.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../lodash/lodash.57b1d944.js";import"../nprogress/nprogress.8c6d26c7.js";const q={class:"artist-detail-container scroll-container"},G={class:"header"},N=["src"],S={class:"right"},F={class:"name"},V={class:"info"},Z={key:0},H=(a=>(g("data-v-dc8d3aed"),a=a(),f(),a))((()=>i("p",{class:"job"},"职业：歌手、词曲创作者",-1))),J={class:"fans"},K={class:"content"},P={class:"detail"},Q={class:"desc"},W=T(s({__name:"ArtistDetailView",setup(s){e((a=>({"1b3dafd6":u(g),"687b862c":u(f),"75d72306":u(T)})));const g=y().get("fontColor"),f=y().get("fontBlack"),T=y().get("shadow"),W=b(),X=W.query.id+"",Y=W.query.score,$=t(!1),aa=j("firstLoading"),sa=j("hideScroll"),ea=o({name:X,score:Math.floor(Number.parseInt(Y)/1e4)+"万",id:"",avatar:"",alias:[]}),ta=o([]),oa=o([]),la=o([]),ia=o([]),na=a=>{sa(),"mv"==a&&0==la.length?R((async()=>{try{const a=await _(X),{mvs:s}=a;s.forEach((a=>{const{id:s,name:e,artistName:t,imgurl16v9:o,playCount:l}=a;la.push({id:s,name:e,artist:t,image:o,playCount:l})}))}catch(a){L(E.ERROR,a.message)}$.value=!1}),$):"album"==a&&0==ia.length?R((async()=>{try{const a=await k(X),{hotAlbums:s}=a;s.forEach((a=>{const{picUrl:s,name:e,publishTime:t}=a;ia.push({name:e,id:a.id,cover:s,publishTime:w(t),artistId:X+""})}))}catch(a){L(E.ERROR,a.message)}$.value=!1}),$):"detail"==a&&0==ta.length&&R((async()=>{try{const a=await z(X),{introduction:s}=a;s.forEach((a=>{ta.push({title:a.ti,content:a.txt})}))}catch(a){L(E.ERROR,a.message)}$.value=!1}),$)};return R((async()=>{try{const a=await D(X),{artist:s,hotSongs:e}=a,{name:t,alias:o,picUrl:l,briefDesc:i}=s;ea.name=t,ea.alias=o,ea.avatar=l,ea.briefDesc=i;const n=[];e.forEach((a=>{A(n,oa,a)})),x(n.join(","),oa)}catch(a){L(E.ERROR,a.message)}aa.value=!1}),aa),(s,e)=>{var t,o;const u=a;return d(),l("div",q,[i("div",G,[i("img",{src:ea.avatar,class:"left"},null,8,N),i("div",S,[i("h4",F,n(ea.name),1),i("div",V,[0!=(null==(t=ea.alias)?void 0:t.length)?(d(),l("p",Z," 英文名："+n(null==(o=ea.alias)?void 0:o.join("、")),1)):r("",!0),H]),i("span",J,"粉丝数："+n(ea.score),1),i("div",null,[m(M,{icon:"󰅵",name:"关注",class:"operate"}),m(M,{icon:"",name:"歌手电台",class:"operate"})])])]),i("div",K,[m(C,{active:"hot",onGetActive:na},{content:c((()=>[m(u,{label:"精选",name:"hot"},{default:c((()=>[m(I,{songs:oa},null,8,["songs"])])),_:1}),m(u,{label:"专辑",name:"album"},{default:c((()=>[$.value?(d(),p(U,{key:0,isLoading:$.value},null,8,["isLoading"])):r("",!0),m(O,{albums:ia},null,8,["albums"])])),_:1}),m(u,{label:"视频",name:"mv"},{default:c((()=>[$.value?(d(),p(U,{key:0,isLoading:$.value},null,8,["isLoading"])):r("",!0),m(B,{mvs:la},null,8,["mvs"])])),_:1}),m(u,{label:"详情",name:"detail"},{default:c((()=>[$.value?(d(),p(U,{key:0,isLoading:$.value},null,8,["isLoading"])):r("",!0),i("div",P,[i("p",Q,n(ea.briefDesc),1),ta.length>0?(d(!0),l(v,{key:0},h(ta,(a=>(d(),l(v,{key:a.title},[i("h4",null,n(a.title),1),i("p",null,n(a.content),1)],64)))),128)):r("",!0)])])),_:1})])),_:1})])])}}}),[["__scopeId","data-v-dc8d3aed"]]);export{W as default};
