import{u as a}from"../element-plus/element-plus.f3996937.js";import{G as s,ax as e,d as t,Z as o,c as l,a as i,T as n,R as r,U as m,O as c,u,o as p,M as d,F as v,a7 as f,ay as h,az as j,z as g}from"../@vue/@vue.7ad02ad1.js";import{b}from"../vue-router/vue-router.53ff932e.js";import{g as y,b as _,z as L,A as w,p as z,B as D,C as k,f as A,h as x,_ as T}from"../../assets/index-80ac5bcd.js";import{M as B}from"../Mv/Mv.9a10b5ad.js";import{D as E}from"../DecoratedButton/DecoratedButton.e6e05208.js";import{A as M}from"../Albums/Albums.4d3343f4.js";import{T as C,_ as I}from"../Tab/Tab.2812a435.js";import{L as U}from"../Loading/Loading.1ef7473c.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../lodash/lodash.57b1d944.js";import"../nprogress/nprogress.8c6d26c7.js";const q={class:"artist-detail-container scroll-container"},G={class:"header"},N=["src"],S={class:"right"},F={class:"name"},O={class:"info"},R={key:0},V=(a=>(h("data-v-1ab4ba84"),a=a(),j(),a))((()=>i("p",{class:"job"},"职业：歌手、词曲创作者",-1))),Z={class:"fans"},H={class:"content"},J={class:"detail"},K={class:"desc"},P=T(s({__name:"ArtistDetailView",setup(s){e((a=>({ce59ef20:u(h),"5cc55d6f":u(j),"2498a958":u(T)})));const h=y().get("fontColor"),j=y().get("fontBlack"),T=y().get("shadow"),P=b(),Q=P.query.id+"",W=P.query.score,X=t(!1),Y=g("firstLoading"),$=g("hideScroll"),aa=o({name:Q,score:Math.floor(Number.parseInt(W)/1e4)+"万",id:"",avatar:"",alias:[]}),sa=o([]),ea=o([]),ta=o([]),oa=o([]),la=a=>{$(),"mv"==a&&0==ta.length?_((async()=>{const a=await L(Q),{mvs:s}=a;s.forEach((a=>{const{id:s,name:e,artistName:t,imgurl16v9:o,playCount:l}=a;ta.push({id:s,name:e,artist:t,image:o,playCount:l})})),X.value=!1}),X):"album"==a&&0==oa.length?_((async()=>{const a=await w(Q),{hotAlbums:s}=a;s.forEach((a=>{const{picUrl:s,name:e,publishTime:t}=a;oa.push({name:e,id:a.id,cover:s,publishTime:z(t),artistId:Q+""})})),X.value=!1}),X):"detail"==a&&0==sa.length&&_((async()=>{const a=await D(Q),{introduction:s}=a;s.forEach((a=>{sa.push({title:a.ti,content:a.txt})})),X.value=!1}),X)};return _((async()=>{const a=await k(Q),{artist:s,hotSongs:e}=a,{name:t,alias:o,picUrl:l,briefDesc:i}=s;aa.name=t,aa.alias=o,aa.avatar=l,aa.briefDesc=i;const n=[];e.forEach((a=>{A(n,ea,a)})),x(n.join(","),ea),Y.value=!1}),Y),(s,e)=>{var t,o;const u=a;return p(),l("div",q,[i("div",G,[i("img",{src:aa.avatar,class:"left"},null,8,N),i("div",S,[i("h4",F,n(aa.name),1),i("div",O,[0!=(null==(t=aa.alias)?void 0:t.length)?(p(),l("p",R," 英文名："+n(null==(o=aa.alias)?void 0:o.join("、")),1)):r("",!0),V]),i("span",Z,"粉丝数："+n(aa.score),1),i("div",null,[m(E,{icon:"󰅵",name:"关注",class:"operate"}),m(E,{icon:"",name:"歌手电台",class:"operate"})])])]),i("div",H,[m(C,{active:"hot",onGetActive:la},{content:c((()=>[m(u,{label:"精选",name:"hot"},{default:c((()=>[m(I,{songs:ea},null,8,["songs"])])),_:1}),m(u,{label:"专辑",name:"album"},{default:c((()=>[X.value?(p(),d(U,{key:0,isLoading:X.value},null,8,["isLoading"])):r("",!0),m(M,{albums:oa},null,8,["albums"])])),_:1}),m(u,{label:"视频",name:"mv"},{default:c((()=>[X.value?(p(),d(U,{key:0,isLoading:X.value},null,8,["isLoading"])):r("",!0),m(B,{mvs:ta},null,8,["mvs"])])),_:1}),m(u,{label:"详情",name:"detail"},{default:c((()=>[X.value?(p(),d(U,{key:0,isLoading:X.value},null,8,["isLoading"])):r("",!0),i("div",J,[i("p",K,n(aa.briefDesc),1),sa.length>0?(p(!0),l(v,{key:0},f(sa,(a=>(p(),l(v,{key:a.title},[i("h4",null,n(a.title),1),i("p",null,n(a.content),1)],64)))),128)):r("",!0)])])),_:1})])),_:1})])])}}}),[["__scopeId","data-v-1ab4ba84"]]);export{P as default};
