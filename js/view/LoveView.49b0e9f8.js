import{u as s}from"../element-plus/element-plus.f3996937.js";import{a as e,s as o,b as a,D as t,E as n,f as i,h as r,_ as l}from"../../assets/index-80ac5bcd.js";import{T as m,_ as p}from"../Tab/Tab.2812a435.js";import{P as u}from"../PlayButton/PlayButton.6ed61330.js";import{D as c}from"../DecoratedButton/DecoratedButton.e6e05208.js";import{S as j}from"../SearchButton/SearchButton.087a874d.js";import{G as d,Z as v,d as f,c as g,U as h,O as S,o as b,a as y,u as _,z as B}from"../@vue/@vue.7ad02ad1.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.07d51cb2.js";import"../lodash/lodash.57b1d944.js";import"../vue-router/vue-router.53ff932e.js";import"../nprogress/nprogress.8c6d26c7.js";const z={class:"love-container common-container"},w={class:"operation"},x=l(d({__name:"LoveView",setup(l){var d;const x=null==(d=e(o.SESSION,"userInfo"))?void 0:d.uid,D=v(e(o.SESSION,"lovelist")||[]);let E;const G=f(""),I=B("firstLoading"),P=s=>{E=v([]),G.value=s;const e=D.filter((s=>s.name.includes(G.value)||s.album.includes(G.value)||s.singer.includes(G.value)));E.push(...e)};return a((async()=>{const s=await t(x),{ids:e}=s,o=await n(e.join(",")),{songs:a}=o;a&&(a.forEach((s=>{i([],D,s,!0)})),r(e.join(","),D),I.value=!1)}),I),(e,o)=>{const a=s;return b(),g("div",z,[h(m,{active:"song",onGetActive:o[0]||(o[0]=()=>{})},{content:S((()=>[h(a,{label:`歌曲 ${D.length}`,name:"song"},{default:S((()=>[y("div",w,[h(u,{songs:D},null,8,["songs"]),h(c,{icon:"󰌄",name:"下载"}),h(c,{icon:"",name:"批量操作"}),h(j,{onGetContent:P})]),h(p,{songs:G.value?_(E):D,isPlaylist:!0,height:"440px"},null,8,["songs"])])),_:1},8,["label"])])),_:1})])}}}),[["__scopeId","data-v-b02def16"]]);export{x as default};
