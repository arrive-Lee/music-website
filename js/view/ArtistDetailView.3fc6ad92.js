import{u as a}from"../element-plus/element-plus.372e8740.js";import{_ as s}from"../OnlineBatch/OnlineBatch.117c65e9.js";import{G as e,ax as t,d as o,Z as i,c as l,P as n,V as r,U as m,a as c,T as u,R as d,u as p,M as v,O as g,o as h,F as f,a7 as j,ay as y,az as b,z as _}from"../@vue/@vue.7ad02ad1.js";import{b as L}from"../vue-router/vue-router.53ff932e.js";import{g as R,a as w,b as E,E as S,e as M,d as O,F as x,o as B,G as D,H as k,I as z,p as A,i as I,j as T,s as C,_ as G}from"../../assets/index-b4bf3e49.js";import{M as F}from"../Mv/Mv.30667258.js";import{D as U}from"../DecoratedButton/DecoratedButton.e6f62703.js";import{A as q}from"../Albums/Albums.3f894f64.js";import{T as H}from"../Tab/Tab.6c04dd12.js";import{_ as N}from"../SongList.vue_vue_type_style_index_0_lang/SongList.vue_vue_type_style_index_0_lang.b5ca6b08.js";import{L as P}from"../Loading/Loading.8c96e03d.js";import{M as V}from"../MoreButton/MoreButton.61c3e0ca.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../pinia/pinia.07d51cb2.js";import"../axios/axios.d4208f68.js";import"../nprogress/nprogress.8c6d26c7.js";const Z={class:"artist-detail-container scroll-container"},J={class:"header"},K=["src"],Q={class:"right"},W={class:"name"},X={class:"info"},Y={key:0},$=(a=>(y("data-v-c9975bd9"),a=a(),b(),a))((()=>c("p",{class:"job"},"职业：歌手、词曲创作者",-1))),aa={class:"fans"},sa={class:"content"},ea={class:"detail"},ta={class:"desc"},oa=G(e({__name:"ArtistDetailView",setup(e){t((a=>({"76d83d37":p(y),ed15e5f0:p(b),"5fd8229f":p(G)})));const y=R().get("fontColor"),b=R().get("fontBlack"),G=R().get("shadow"),oa=w(),ia=L(),la=ia.query.id+"",na=ia.query.score,ra=o(!1),ma=_("firstLoading"),ca=_("hideScroll"),ua=i({name:"",score:Math.floor(Number.parseInt(na)/1e4)+"万",id:la,avatar:"",alias:[]}),da=i([]),pa=i([]),va=i([]),ga=i([]),ha=o(!1),fa=a=>{ha.value=a},ja=a=>{ca(),ha.value=a},ya=()=>{C("我有一个宝藏歌手推荐给你："+ua.name+"，地址：https://www.liyinchao.cloud/#"+ia.fullPath)},ba=a=>{ca(),"mv"==a&&0==va.length?E((async()=>{try{const a=await S(la),{mvs:s}=a;s.forEach((a=>{const{id:s,name:e,artistName:t,imgurl16v9:o,playCount:i}=a;va.push({id:s,name:e,artist:t,image:o,playCount:i})}))}catch(a){M(O.ERROR,a.message)}ra.value=!1}),ra):"album"==a&&0==ga.length?E((async()=>{try{const a=await x(la),{hotAlbums:s}=a;s.forEach((a=>{const{picUrl:s,name:e,publishTime:t}=a;ga.push({name:e,id:a.id,cover:s,publishTime:B(t),artistId:la+""})}))}catch(a){M(O.ERROR,a.message)}ra.value=!1}),ra):"detail"==a&&0==da.length&&E((async()=>{try{const a=await D(la),{introduction:s}=a;s.forEach((a=>{da.push({title:a.ti,content:a.txt})}))}catch(a){M(O.ERROR,a.message)}ra.value=!1}),ra)};return E((async()=>{try{const a=await k(la),{artist:s}=a,{name:e,alias:t,picUrl:o,briefDesc:i}=s;ua.name=e,ua.alias=t,ua.avatar=o,ua.briefDesc=i,oa.initLoveStatus(ua,oa.loveSingerId)}catch(a){M(O.ERROR,a.message)}try{const a=await z(la,1e3),{songs:s}=a,e=s.map((a=>a.id)).join(","),t=await A(e),{songs:o}=t;o.forEach((a=>{I([],pa,a)})),oa.initLoveMusic(pa),T(e,pa)}catch(a){M(O.ERROR,a.message)}ma.value=!1}),ma),(e,t)=>{var o,i;const y=s,b=a;return h(),l("div",Z,[n(m(y,{songs:pa,onCloseSelect:fa},null,8,["songs"]),[[r,ha.value]]),n(c("div",J,[c("img",{src:ua.avatar,class:"left"},null,8,K),c("div",Q,[c("h4",W,u(ua.name),1),c("div",X,[0!=(null==(o=ua.alias)?void 0:o.length)?(h(),l("p",Y," 英文名："+u(null==(i=ua.alias)?void 0:i.join("、")),1)):d("",!0),$]),c("span",aa,"粉丝数："+u(ua.score),1),c("div",null,[m(U,{name:ua.isLove?"取消关注":"关注",icon:ua.isLove?"":"","icon-style":ua.isLove?"color:#ff6a6a;":"",onClick:t[0]||(t[0]=a=>p(oa).addLove(ua,p(oa).loveSinger,p(oa).loveSingerId,"loveSinger")),class:"operate"},null,8,["name","icon","icon-style"]),m(U,{icon:"",name:"歌手电台",class:"operate"}),ha.value?d("",!0):(h(),v(V,{key:0,"share-to":ya,onOpenSelect:ja}))])])],512),[[r,!ha.value]]),n(c("div",sa,[m(H,{active:"hot",onGetActive:ba},{content:g((()=>[m(b,{label:"精选",name:"hot"},{default:g((()=>[m(N,{songs:pa},null,8,["songs"])])),_:1}),m(b,{label:"专辑",name:"album"},{default:g((()=>[m(P,{isLoading:ra.value},null,8,["isLoading"]),m(q,{albums:ga},null,8,["albums"])])),_:1}),m(b,{label:"视频",name:"mv"},{default:g((()=>[m(P,{isLoading:ra.value},null,8,["isLoading"]),m(F,{mvs:va},null,8,["mvs"])])),_:1}),m(b,{label:"详情",name:"detail"},{default:g((()=>[m(P,{isLoading:ra.value},null,8,["isLoading"]),c("div",ea,[c("p",ta,u(ua.briefDesc),1),da.length>0?(h(!0),l(f,{key:0},j(da,(a=>(h(),l(f,{key:a.title},[c("h4",null,u(a.title),1),c("p",null,u(a.content),1)],64)))),128)):d("",!0)])])),_:1})])),_:1})],512),[[r,!ha.value]])])}}}),[["__scopeId","data-v-c9975bd9"]]);export{oa as default};
