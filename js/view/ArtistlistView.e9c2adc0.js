import{G as e,ax as s,Z as a,i as t,d as o,c as l,U as i,a as r,F as n,a7 as u,u as p,z as c,o as m,P as v,I as j,S as d,T as h,ay as g,az as f,n as y,aq as w}from"../@vue/@vue.7ad02ad1.js";import{g as S,J as G,e as k,d as B,_ as C}from"../../assets/index-a1baacc7.js";import{S as z}from"../Singer/Singer.bab38930.js";import{B as x}from"../ButtonGroup/ButtonGroup.5aeff793.js";import{S as _}from"../SearchButton/SearchButton.830b53bc.js";import"../element-plus/element-plus.372e8740.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../hotkeys-js/hotkeys-js.e364e5e1.js";import"../pinia/pinia.07d51cb2.js";import"../axios/axios.d4208f68.js";import"../vue-router/vue-router.47595bf3.js";import"../nprogress/nprogress.8c6d26c7.js";const A=e=>(g("data-v-1725c6de"),e=e(),f(),e),I={class:"artistlist-container scroll-container"},L=A((()=>r("h4",{class:"title"},"歌手类型",-1))),M={class:"name-ch"},R=["onClick"],b=A((()=>r("h4",{class:"title"},"全部歌手",-1))),E={class:"ranks"},U=C(e({__name:"ArtistlistView",setup(e){s((e=>({c263a53e:p(g),c282e406:p(f),"695a56b6":p(A),"286dbfd8":p(C)})));const g=S().get("fontColor"),f=S().get("fontBlack"),C=S().get("shadow"),A=c("fontGray"),U=a([]),F=t((()=>U.filter((e=>e.name.includes(J.value))))),J=o(""),K=a(new Map),O=o(0),P=t((()=>V.get(T[O.value]))),T=a(["全部","男歌手","女歌手","组合"]),V=new Map([["全部",-1],["男歌手",1],["女歌手",2],["组合",3]]),Z=o(0),q=t((()=>H.get(D[Z.value]))),D=["全部","华语","欧美","日本","韩国","其他"],H=new Map([["全部",-1],["华语",7],["欧美",96],["日本",8],["韩国",16],["其他",0]]),N=a("全部,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,#".split(",")),Q=o("全部"),W=c("firstLoading"),X=c("hideScroll"),Y=async(e,s)=>{X(),U.splice(0),"歌手地区"==s?Z.value=e:"歌手类型"==s?O.value=e:Q.value=N[e],await y();const a=K.get(P.value+""+q.value+Q.value);a?U.push(...a):ee()},$=e=>{J.value=e},ee=async()=>{W.value=!0;try{const e=await G(P.value,q.value,100,"全部"==Q.value?void 0:Q.value.toLowerCase()),{artists:s}=e;s.forEach((e=>{const{img1v1Url:s,id:a,name:t,fansCount:o}=e;U.push({id:a,name:t,avatar:s,score:o})})),K.set(P.value+""+q.value+Q.value,[...U])}catch(e){k(B.ERROR,e.message)}W.value=!1};return ee(),(e,s)=>{const a=w("prevent");return m(),l("div",I,[i(_,{onGetContent:$}),L,i(x,{onGetActive:Y,type:D,"active-value":0,"show-title":!1,title:"歌手地区",class:"area"}),i(x,{onGetActive:Y,type:T,"active-value":0,"show-title":!1,title:"歌手类型"},null,8,["type"]),r("ul",M,[(m(!0),l(n,null,u(N,((e,s)=>v((m(),l("li",{key:e,onClick:e=>Y(s,"歌手姓名"),class:j({"is-active":Q.value==e})},[d(h(e),1)],10,R)),[[a]]))),128))]),b,r("div",E,[i(z,{"singer-list":p(F),"show-all-avatar":!1},null,8,["singer-list"])])])}}}),[["__scopeId","data-v-1725c6de"]]);export{U as default};
