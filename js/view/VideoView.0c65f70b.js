import{v as e,w as a}from"../element-plus/element-plus.e3268319.js";import{G as s,d as l,Z as t,P as o,c as i,a as n,F as u,a7 as r,U as m,u as p,V as v,z as c,o as d,I as h,T as j,ay as g,az as f,ax as y}from"../@vue/@vue.69a1071d.js";import{g as b,k,e as x,d as C,S as w,_ as z}from"../../assets/index-dfd51332.js";import{M as E}from"../Mv/Mv.f89065ee.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.ea52d298.js";import"../@element-plus/@element-plus.a36f95b2.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.6b07a04c.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../axios/axios.d4208f68.js";import"../pinia/pinia.294e9718.js";import"../lodash/lodash.57b1d944.js";import"../vue-router/vue-router.f91b6d5b.js";import"../nprogress/nprogress.8c6d26c7.js";const S=e=>(g("data-v-4af6ac3a"),e=e(),f(),e),_=["infinite-scroll-disabled"],M=S((()=>n("h4",{class:"title"},"视频分类",-1))),R={class:"type"},T=["onClick"],V=S((()=>n("h4",{class:"title all"},"全部mv",-1))),I=["element-loading-background","element-loading-spinner"],P=z(s({__name:"VideoView",setup(s){y((e=>({"204a9fa0":p(g),35467782:p(z),"6b112888":p(f)})));const g=b().get("fontColor"),f=b().get("boxShadow"),z=b().get("fontBlack"),S=b().get("background"),P=l(0),U=l(40),B=l(!1),F=t([]),G=t(["全部","韩国","日本","欧美","港台","内地"]),L=t([1e3,1e3,1e3,1e3,1e3,1e3]),N=l(!1);let O=t([]);const Z=c("firstLoading");Z.value=!0;const q=()=>{U.value<L[P.value]?(N.value=!0,B.value=!0,setTimeout((()=>{U.value+=10,O.push(...F[P.value].slice(O.length,U.value)),N.value=!1,B.value=!1}),2500)):(N.value=!0,B.value=!0,setTimeout((()=>{N.value=!1,U.value=L[P.value],O.push(...F[P.value].slice(O.length,U.value)),x(C.SUCCESS,"已经到底啦！")}),2500))},A=[];return G.forEach(((e,a)=>{A.push(k(L[a],e))})),Promise.all(A).then((e=>{e.forEach((e=>{const a=t([]),{data:s}=e;s.forEach((e=>{const{id:s,name:l,cover:t,playCount:o,artistName:i}=e;a.push({id:s,name:l,image:t,playCount:o,artist:i})})),F.push(a)})),O.push(...F[P.value].slice(0,U.value)),Z.value=!1})).catch((e=>{x(C.ERROR,e.message)})),(s,l)=>{const c=e,g=a;return o((d(),i("div",{class:"rvideo-container scroll-container","infinite-scroll-distance":"2","infinite-scroll-immediate":!1,"infinite-scroll-disabled":B.value,style:{overflow:"auto"}},[M,n("div",R,[(d(!0),i(u,null,r(G,((e,a)=>(d(),i("button",{onClick:e=>(e=>{P.value=e,U.value=40,O=t([]),O.push(...F[P.value].slice(0,U.value)),B.value=!1})(a),key:e,class:h({"is-active":a==P.value})},j(e),11,T)))),128))]),V,m(E,{mvs:p(O)},null,8,["mvs"]),o(n("div",{"element-loading-background":p(S),"element-loading-text":"加载中，请勿继续滚动！","element-loading-spinner":p(w),class:"tip"},null,8,I),[[v,N.value],[c,N.value]])],8,_)),[[g,q]])}}}),[["__scopeId","data-v-4af6ac3a"]]);export{P as default};
