import{G as s,ax as a,Z as e,c as o,a as n,U as l,u as t,o as i,n as c}from"../@vue/@vue.59fec093.js";import{s as u}from"../pinia/pinia.81428a33.js";import{g as r,u as p,a as d,e as m,d as g,_ as v}from"../../assets/index-dad7e7d6.js";import{D as h}from"../DecoratedButton/DecoratedButton.05ab5bf4.js";import{_ as f}from"../PlayButton/PlayButton.63393c1a.js";const y={class:"online-batch"},C={class:"operation-select"},I=v(s({__name:"OnlineBatch",props:{songs:null,songIdMapper:null},emits:["closeSelect"],setup(s,{emit:v}){a((s=>({"337f13f3":t(I)})));const I=r().get("themeColor"),S=p(),{isPlay:_,songList:j,songListId:k,playProcess:B,playTime:D,current:w}=u(S),E=d(),{loveMusicId:M,loveSongs:P}=u(E),x=e([]),L=s=>{0!=x.length&&x.splice(0),x.push(...s)},O=async()=>{x.length>0?(_.value=!1,B.value=0,D.value=0,await c(),x.forEach((s=>{null==k.value.get(s.id)&&j.value.unshift(s)})),w.value=k.value.get(x[0].id),_.value=!0,m(g.SUCCESS,"已添加到播放列表！")):m(g.INFO,"请添加歌曲！")},F=()=>{x.forEach((s=>{E.addMuiscDownload(s)}))},G=()=>{x.forEach((s=>{s.isLove=!0;null==M.value.get(s.id)&&P.value.push(s)}))};return(a,e)=>(i(),o("div",y,[n("div",C,[l(h,{icon:"",name:"播放",class:"play",onClick:O}),l(h,{icon:"",name:"收藏",onClick:G}),l(h,{icon:"󰌄",onClick:F,name:"下载"}),l(h,{icon:"",name:"取消操作",onClick:e[0]||(e[0]=s=>v("closeSelect",!1)),class:"cancel"})]),l(f,{songs:s.songs,"song-id-mapper":s.songIdMapper,"show-select":!0,"show-header":!1,onGetSelectItems:L},null,8,["songs","song-id-mapper"])]))}}),[["__scopeId","data-v-46d1e339"]]);export{I as O};
