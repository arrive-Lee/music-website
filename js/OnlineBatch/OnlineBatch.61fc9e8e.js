import{G as s,ax as a,Z as e,c as o,a as l,U as n,u as i,o as t,n as c}from"../@vue/@vue.59fec093.js";import{s as u}from"../pinia/pinia.81428a33.js";import{g as p,u as r,a as d,D as m,e as g,d as v,_ as h}from"../../assets/index-5d34d577.js";import{_ as f}from"../PlayButton/PlayButton.7c3bfca9.js";const y={class:"online-batch"},C={class:"operation-select"},I=h(s({__name:"OnlineBatch",props:{songs:null,songIdMapper:null},emits:["closeSelect"],setup(s,{emit:h}){a((s=>({"337f13f3":i(I)})));const I=p().get("themeColor"),S=r(),{isPlay:_,songList:k,songListId:j,playProcess:w,playTime:E,current:M}=u(S),P=d(),{loveMusicId:x,loveSongs:B}=u(P),D=e([]),L=s=>{0!=D.length&&D.splice(0),D.push(...s)},O=async()=>{D.length>0?(_.value=!1,w.value=0,E.value=0,await c(),D.forEach((s=>{null==j.value.get(s.id)&&k.value.unshift(s)})),M.value=j.value.get(D[0].id),_.value=!0,g(v.SUCCESS,"已添加到播放列表！")):g(v.INFO,"请添加歌曲！")},G=()=>{D.forEach((s=>{P.addMuiscDownload(s)}))},U=()=>{D.forEach((s=>{s.isLove=!0;null==x.value.get(s.id)&&B.value.push(s)}))};return(a,e)=>(t(),o("div",y,[l("div",C,[n(m,{icon:"",name:"播放",class:"play",onClick:O}),n(m,{icon:"",name:"收藏",onClick:U}),n(m,{icon:"󰌄",onClick:G,name:"下载"}),n(m,{icon:"",name:"取消操作",onClick:e[0]||(e[0]=s=>h("closeSelect",!1)),class:"cancel"})]),n(f,{songs:s.songs,"song-id-mapper":s.songIdMapper,"show-select":!0,"show-header":!1,onGetSelectItems:L},null,8,["songs","song-id-mapper"])]))}}),[["__scopeId","data-v-46d1e339"]]);export{I as O};
