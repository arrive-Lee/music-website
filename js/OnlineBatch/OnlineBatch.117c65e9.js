import{_ as s}from"../SongList.vue_vue_type_style_index_0_lang/SongList.vue_vue_type_style_index_0_lang.b5ca6b08.js";import{D as e}from"../DecoratedButton/DecoratedButton.e6f62703.js";import{u as a,a as l,e as o,d as n,q as t,r as i,_ as c}from"../../assets/index-b4bf3e49.js";import{s as u}from"../pinia/pinia.07d51cb2.js";import{G as r,Z as v,o as p,c as d,a as m,U as _,n as g}from"../@vue/@vue.7ad02ad1.js";const y={class:"online-batch"},h={class:"operation-select"},f=c(r({__name:"OnlineBatch",props:{songs:null,isPlaylist:{type:Boolean,default:!1}},emits:["closeSelect"],setup(c,{emit:r}){const f=a(),{isPlay:S,songList:C,songListId:L,playProcess:P,playTime:j,current:B}=u(f),I=l(),{loveMusicId:k,loveSongs:w}=u(I),x=v([]),D=s=>{0!=x.length&&x.splice(0),x.push(...s)},E=async()=>{x.length>0?(S.value=!1,P.value=0,j.value=0,await g(),x.forEach((s=>{null==L.value.get(s.id)&&C.value.unshift(s)})),B.value=L.value.get(x[0].id),S.value=!0,o(n.SUCCESS,"已添加到播放列表！")):o(n.INFO,"请添加歌曲！")},O=()=>{x.forEach((s=>{I.addMuiscDownload(s)}))},G=()=>{x.forEach((s=>{s.isLove=!0;null==k.value.get(s.id)&&w.value.push(s)})),t(i.LOCAL,"loveSongs",w.value)};return(a,l)=>{const o=e,n=s;return p(),d("div",y,[m("div",h,[_(o,{icon:"",name:"播放",class:"play",onClick:E}),_(o,{icon:"",name:"收藏",onClick:G}),_(o,{icon:"󰌄",onClick:O,name:"下载"}),_(o,{icon:"",name:"取消操作",onClick:l[0]||(l[0]=s=>r("closeSelect",!1)),class:"cancel"})]),_(n,{songs:c.songs,isPlaylist:c.isPlaylist,"show-select":!0,"show-header":!1,onGetSelectItems:D},null,8,["songs","isPlaylist"])])}}}),[["__scopeId","data-v-63f7c714"]]);export{f as _};
