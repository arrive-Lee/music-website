import{s}from"../pinia/pinia.81428a33.js";import{u as a,a as e,e as o,d as n,_ as l}from"../../assets/index-25b91ed4.js";import{D as t}from"../DecoratedButton/DecoratedButton.87b84727.js";import{_ as i}from"../PlayButton/PlayButton.9e2e1120.js";import{G as c,Z as u,c as r,a as p,U as d,o as m,n as v}from"../@vue/@vue.59fec093.js";const g={class:"online-batch"},h={class:"operation-select"},f=l(c({__name:"OnlineBatch",props:{songs:null,songIdMapper:null},emits:["closeSelect"],setup(l,{emit:c}){const f=a(),{isPlay:y,songList:I,songListId:S,playProcess:C,playTime:_,current:j}=s(f),k=e(),{loveMusicId:B,loveSongs:D}=s(k),w=u([]),E=s=>{0!=w.length&&w.splice(0),w.push(...s)},M=async()=>{w.length>0?(y.value=!1,C.value=0,_.value=0,await v(),w.forEach((s=>{null==S.value.get(s.id)&&I.value.unshift(s)})),j.value=S.value.get(w[0].id),y.value=!0,o(n.SUCCESS,"已添加到播放列表！")):o(n.INFO,"请添加歌曲！")},P=()=>{w.forEach((s=>{k.addMuiscDownload(s)}))},L=()=>{w.forEach((s=>{s.isLove=!0;null==B.value.get(s.id)&&D.value.push(s)}))};return(s,a)=>(m(),r("div",g,[p("div",h,[d(t,{icon:"",name:"播放",class:"play",onClick:M}),d(t,{icon:"",name:"收藏",onClick:L}),d(t,{icon:"󰌄",onClick:P,name:"下载"}),d(t,{icon:"",name:"取消操作",onClick:a[0]||(a[0]=s=>c("closeSelect",!1)),class:"cancel"})]),d(i,{songs:l.songs,"song-id-mapper":l.songIdMapper,"show-select":!0,"show-header":!1,onGetSelectItems:E},null,8,["songs","song-id-mapper"])]))}}),[["__scopeId","data-v-5d9194d1"]]);export{f as O};
