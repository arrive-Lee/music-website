import{y as a,z as e,A as s}from"../element-plus/element-plus.e3268319.js";import{G as l,o as n,M as t,O as o,U as i,a as d,I as u,T as c,P as r,V as p,u as v,c as f,S as m,ax as b,n as g,aq as y,d as h,H as w}from"../@vue/@vue.69a1071d.js";import{g as x,u as _,G as C,e as I,d as k,_ as P}from"../../assets/index-a744d8a6.js";import{s as j}from"../pinia/pinia.294e9718.js";const A=["textContent"],L={class:"operation"},T=["onClick"],S=d("span",{class:"iconfont"},"󰌄",-1),V=d("span",{class:"iconfont"},"",-1),q=l({__name:"SongList",props:{songs:null,height:null,isPlaylist:{type:Boolean,default:!1}},setup(s){const l=s;b((a=>({"4e5dfd30":v(h),"4dd0c97e":v(P),"40ae0060":v(w)})));const h=x().get("fontColor"),w=x().get("background"),P=x().get("tableHover"),q=_(),{songList:M,current:N,isPlay:O,playProcess:F,playTime:G}=j(q),H=async a=>{if("0"==a.available||"8"==a.available){const e=M.value.findIndex((e=>e.id==a.id));-1==e?0==N.value?(O&&(O.value=!1),F.value=0,G.value=0,M.value.unshift(a),await g(),O.value=!0):(M.value.unshift(a),N.value=0):N.value!=e?N.value=e:O.value=!0}else(a.available="1")?I(k.INFO,"此歌曲为vip专属"):(a.available="10")&&I(k.INFO,"此歌曲尚未拥有版权，请切换其它歌曲")},U=a=>{const e=l.songs.findIndex((e=>e.id==a.id)),s=document.querySelectorAll(".operation");l.isPlaylist?s[e+1].style.display="block":s[e].style.display="block"},z=a=>{const e=l.songs.findIndex((e=>e.id==a.id)),s=document.querySelectorAll(".operation");l.isPlaylist?s[e+1].style.display="none":s[e].style.display="none"};return(l,b)=>{const g=a,h=e,w=y("prevent");return n(),t(h,{data:s.songs,onCellDblclick:H,onCellMouseEnter:U,onCellMouseLeave:z,"max-height":s.height,style:{width:"80vw"},class:"songs-table"},{default:o((()=>[i(g,{label:"歌曲",width:"500"},{default:o((a=>[d("div",null,[d("span",{class:u(["iconfont love",{"is-love":a.row.isLove}]),textContent:c(a.row.isLove?"󰅅":"")},null,10,A),d("span",null,c(a.row.name),1),d("div",L,[r((n(),f("span",{onClick:e=>H(a.row),class:"iconfont"},[m("")],8,T)),[[p,!v(O)||v(N)!=v(M).findIndex((e=>e.id==a.row.id))],[w]]),r((n(),f("span",{onClick:b[0]||(b[0]=a=>O.value=!1),class:"iconfont"},[m(" ")])),[[p,v(O)&&v(N)==v(M).findIndex((e=>e.id==a.row.id))],[w]]),S,V])])])),_:1}),i(g,{prop:"singer",label:"歌手",width:"320"}),i(g,{prop:"album",label:"专辑",width:"320"}),i(g,{label:"时长"},{default:o((a=>[d("span",null,c(v(C)(a.row.time)),1)])),_:1})])),_:1},8,["data","max-height"])}}}),M=P(l({__name:"Tab",props:{active:null},emits:["getActive"],setup(a,{emit:e}){const l=a;b((a=>({"377914ab":v(i)})));const i=x().get("fontColor"),d=h(l.active),u=a=>{e("getActive",a.paneName)};return(a,e)=>{const l=s;return n(),t(l,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),onTabClick:u,class:"tab"},{default:o((()=>[w(a.$slots,"content",{},void 0,!0)])),_:3},8,["modelValue"])}}}),[["__scopeId","data-v-4312e76f"]]);export{M as T,q as _};
